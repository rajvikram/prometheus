(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{108:function(e,t,a){},119:function(e,t){!function(e){e.color={},e.color.make=function(t,a,n,r){var l={};return l.r=t||0,l.g=a||0,l.b=n||0,l.a=null!=r?r:1,l.add=function(e,t){for(var a=0;a<e.length;++a)l[e.charAt(a)]+=t;return l.normalize()},l.scale=function(e,t){for(var a=0;a<e.length;++a)l[e.charAt(a)]*=t;return l.normalize()},l.toString=function(){return l.a>=1?"rgb("+[l.r,l.g,l.b].join(",")+")":"rgba("+[l.r,l.g,l.b,l.a].join(",")+")"},l.normalize=function(){function e(e,t,a){return t<e?e:t>a?a:t}return l.r=e(0,parseInt(l.r),255),l.g=e(0,parseInt(l.g),255),l.b=e(0,parseInt(l.b),255),l.a=e(0,l.a,1),l},l.clone=function(){return e.color.make(l.r,l.b,l.g,l.a)},l.normalize()},e.color.extract=function(t,a){var n;do{if(""!=(n=t.css(a).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(a){var n,r=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var l=e.trim(a).toLowerCase();return"transparent"==l?r(255,255,255,0):r((n=t[l]||[0,0,0])[0],n[1],n[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(window.jQuery),function(e){let t=Object.prototype.hasOwnProperty;function a(t,a){var n=a.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(a),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var r=this.context=n.getContext("2d");let l=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=l/o,this.resize(a.width(),a.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function n(t,n,r,l){let o=[],i={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,eventSectionHeight:0,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,c=null,u=null,m=null,h=null,d=[],p=[],g={left:0,right:0,top:0,bottom:0},f=0,b=0,x={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],processRange:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;function E(e,t){t=[y].concat(t);for(var a=0;a<e.length;++a)e[a].apply(this,t)}function v(t){o=function(t){let a=[];for(let n=0;n<t.length;++n){let r=e.extend(!0,{},i.series);null!=t[n].data?(r.data=t[n].data,delete t[n].data,e.extend(!0,r,t[n]),t[n].data=r.data):r.data=t[n],a.push(r)}return a}(t),function(){var t,a=o.length,n=-1;for(t=0;t<o.length;++t){let e=o[t].color;null!=e&&(a--,"number"==typeof e&&e>n&&(n=e))}a<=n&&(a=n+1);var r,l=[],s=i.colors,c=s.length,u=0;for(t=0;t<a;t++)r=e.color.parse(s[t%c]||"#666"),t%c==0&&t&&(u=u>=0?u<.5?-u-.2:0:-u),l[t]=r.scale("rgb",1+u);var m,h=0;for(t=0;t<o.length;++t){if(null==(m=o[t]).color?(m.color=l[h].toString(),++h):"number"==typeof m.color&&(m.color=l[m.color].toString()),null==m.lines.show){var g,f=!0;for(g in m)if(m[g]&&m[g].show){f=!1;break}f&&(m.lines.show=!0)}null==m.lines.zero&&(m.lines.zero=!!m.lines.fill),m.xaxis=T(d,k(m,"x")),m.yaxis=T(p,k(m,"y"))}}(),function(){let t,a,n,r,l,i,s,c,u,m,h,d,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function b(e,t,a){t<e.datamin&&t!=-f&&(e.datamin=t),a>e.datamax&&a!=f&&(e.datamax=a)}for(e.each(w(),(function(e,t){t.datamin=p,t.datamax=g,t.used=!1})),t=0;t<o.length;++t)l=o[t],l.datapoints={points:[]},E(x.processRawData,[l,l.data,l.datapoints]);for(t=0;t<o.length;++t){if(l=o[t],h=l.data,d=l.datapoints.format,!d){if(d=[],d.push({x:!0,number:!0,required:!0}),d.push({y:!0,number:!0,required:!0}),l.stack||l.bars.show||l.lines.show&&l.lines.fill){let e=!!(l.bars.show&&l.bars.zero||l.lines.show&&l.lines.zero);d.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:e}),l.bars.horizontal&&(delete d[d.length-1].y,d[d.length-1].x=!0)}l.datapoints.format=d}if(null!=l.datapoints.pointsize)continue;l.datapoints.pointsize=d.length,s=l.datapoints.pointsize,i=l.datapoints.points;let e=l.lines.show&&l.lines.steps;for(l.xaxis.used=l.yaxis.used=!0,a=n=0;a<h.length;++a,n+=s){m=h[a];let t=null==m;if(!t)for(r=0;r<s;++r)c=m[r],u=d[r],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=f:c==-1/0&&(c=-f)),null==c&&(u.required&&(t=!0),null!=u.defaultValue&&(c=u.defaultValue))),i[n+r]=c;if(t)for(r=0;r<s;++r)c=i[n+r],null!=c&&(u=d[r],!1!==u.autoscale&&(u.x&&b(l.xaxis,c,c),u.y&&b(l.yaxis,c,c))),i[n+r]=null;if(e&&n>0&&(!t||null!=i[n-s])){for(r=0;r<s;++r)i[n+s+r]=i[n+r];i[n+1]=i[n-s+1]||0,t&&(i[n]=m[0]),n+=s}}}for(t=0;t<o.length;++t){if(l=o[t],i=l.datapoints.points,s=l.datapoints.pointsize,"negative-Y"===l.transform)for(a=0;a<i.length;a+=s)null!=i[a]&&(c=i[a+1],i[a+1]=-c);E(x.processDatapoints,[l,l.datapoints])}for(t=0;t<o.length;++t){l=o[t],i=l.datapoints.points,s=l.datapoints.pointsize,d=l.datapoints.format;var y=p,v=p,k=g,S=g;for(a=0;a<i.length;a+=s)if(null!=i[a])for(r=0;r<s;++r)c=i[a+r],u=d[r],u&&!1!==u.autoscale&&c!=f&&c!=-f&&(u.x&&(c<y&&(y=c),c>k&&(k=c)),u.y&&(c<v&&(v=c),c>S&&(S=c)));if(l.bars.show){var T;switch(l.bars.align){case"left":T=0;break;case"right":T=-l.bars.barWidth;break;default:T=-l.bars.barWidth/2}l.bars.horizontal?(v+=T,S+=T+l.bars.barWidth):(y+=T,k+=T+l.bars.barWidth)}b(l.xaxis,y,k),b(l.yaxis,v,S)}e.each(w(),(function(e,t){t.datamin==p&&(t.datamin=null),t.datamax==g&&(t.datamax=null)}))}()}function k(e,t){var a=e[t+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function w(){return e.grep(d.concat(p),(function(e){return e}))}function S(e){var t,a,n={};for(t=0;t<d.length;++t)(a=d[t])&&(n["x"+a.n]=a.c2p(e.left));for(t=0;t<p.length;++t)(a=p[t])&&(n["y"+a.n]=a.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function T(t,a){return t[a-1]||(t[a-1]={n:a,direction:t==d?"x":"y",options:e.extend(!0,{},t==d?i.xaxis:i.yaxis)}),t[a-1]}function C(){H&&clearTimeout(H),u.unbind("mousemove",q),u.unbind("mouseleave",B),u.unbind("click",U),E(x.shutdown,[u])}function M(e){let t=e.options,a=e.ticks||[],n=t.labelWidth||0,r=t.labelHeight||0,l=n||("x"==e.direction?Math.floor(s.width/(a.length||1)):null),o=e.direction+"Axis "+e.direction+e.n+"Axis",i="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,c=t.font||"flot-tick-label tickLabel";for(let u=0;u<a.length;++u){let e=a[u];if(!e.label)continue;let t=s.getTextInfo(i,e.label,c,null,l);n=Math.max(n,t.width+1),r=Math.max(r,t.height)}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||r}function O(t){let a=t.labelWidth,n=t.labelHeight,r=t.options.position,l="x"===t.direction,o=t.options.tickLength,c=i.grid.axisMargin,u=i.grid.labelMargin,m=i.grid.eventSectionHeight,h=!0,f=!0,b=!0,x=!1;e.each(l?d:p,(function(e,a){a&&(a.show||a.reserveSpace)&&(a===t?x=!0:a.options.position===r&&(x?f=!1:h=!1),x||(b=!1))})),f&&(c=0),null==o&&(o=b?"full":5),isNaN(+o)||(u+=+o),l?(n+=u,n+=m,"bottom"==r?(g.bottom+=n+c,t.box={top:s.height-g.bottom,height:n}):(t.box={top:g.top+c,height:n},g.top+=n+c)):(a+=u,"left"==r?(t.box={left:g.left+c,width:a},g.left+=a+c):(g.right+=a+c,t.box={left:s.width-g.right,width:a})),t.position=r,t.tickLength=o,t.box.padding=u,t.box.eventSectionPadding=m,t.innermost=h}function N(){var a=w(),n=i.grid.show;for(var r in g){let e=i.grid.margin||0;g[r]="number"==typeof e?e:e[r]||0}for(var r in E(x.processOffset,[g]),g)"object"==typeof i.grid.borderWidth?g[r]+=n?i.grid.borderWidth[r]:0:g[r]+=n?i.grid.borderWidth:0;if(e.each(a,(function(e,t){let a=t.options;t.show=null==a.show?t.used:a.show,t.reserveSpace=null==a.reserveSpace?t.show:a.reserveSpace,function(e){let t=e.options,a=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),r=n-a;if(0==r){let e=.25,r=Math.abs(0==n?1:n*e);null==t.min&&(a-=r),null!=t.max&&null==t.min||(n+=r)}else{let l=t.autoscaleMargin;null!=l&&(null==t.min&&(a-=r*l,a<0&&null!=e.datamin&&e.datamin>=0&&(a=0)),null==t.max&&(n+=r*l,n>0&&null!=e.datamax&&e.datamax<=0&&(n=0)))}e.min=a,e.max=n}(t)})),E(x.processRange,[]),n){var l=e.grep(a,(function(e){return e.show||e.reserveSpace}));let t=!1;for(var c=0;c<2&&(e.each(l,(function(e,a){_(a),L(a),t=j(a,a.ticks)||t,M(a)})),t&&x.processRange.length>0);c++)E(x.processRange,[]),t=!1;for(c=l.length-1;c>=0;--c)O(l[c]);!function(){let t,a=i.grid.minBorderMargin;if(null==a)for(a=0,t=0;t<o.length;++t)a=Math.max(a,2*(o[t].points.radius+o[t].points.lineWidth/2));let n={left:a,right:a,top:a,bottom:a};e.each(w(),(function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))})),g.left=Math.ceil(Math.max(n.left,g.left)),g.right=Math.ceil(Math.max(n.right,g.right)),g.top=Math.ceil(Math.max(n.top,g.top)),g.bottom=Math.ceil(Math.max(n.bottom,g.bottom))}(),e.each(l,(function(e,t){!function(e){"x"==e.direction?(e.box.left=g.left-e.labelWidth/2,e.box.width=s.width-g.left-g.right+e.labelWidth):(e.box.top=g.top-e.labelHeight/2,e.box.height=s.height-g.bottom-g.top+e.labelHeight)}(t)}))}f=s.width-g.left-g.right,b=s.height-g.bottom-g.top,e.each(a,(function(e,t){!function(e){function t(e){return e}var a,n,r=e.options.transform||t,l=e.options.inverseTransform;"x"==e.direction?(a=e.scale=f/Math.abs(r(e.max)-r(e.min)),n=Math.min(r(e.max),r(e.min))):(a=-(a=e.scale=b/Math.abs(r(e.max)-r(e.min))),n=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-n)*a}:function(e){return(r(e)-n)*a},e.c2p=l?function(e){return l(n+e/a)}:function(e){return n+e/a}}(t)})),n&&e.each(w(),(function(e,t){let a,n,r,l,o,i=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,m=t.options.font||"flot-tick-label tickLabel";if(s.removeText(u),t.show&&0!=t.ticks.length)for(let h=0;h<t.ticks.length;++h)a=t.ticks[h],!a.label||a.v<t.min||a.v>t.max||("x"==t.direction?(l="center",n=g.left+t.p2c(a.v),"bottom"==t.position?r=i.top+i.padding+i.eventSectionPadding:(r=i.top+i.height-i.padding,o="bottom")):(o="middle",r=g.top+t.p2c(a.v),"left"==t.position?(n=i.left+i.width-i.padding,l="right"):n=i.left+i.padding),s.addText(u,n,r,a.label,m,null,null,l,o))})),function(){null!=i.legend.container?e(i.legend.container).html(""):t.find(".legend").remove();if(!i.legend.show)return;for(var a,n,r=[],l=[],s=!1,c=i.legend.labelFormatter,u=0;u<o.length;++u)(a=o[u]).label&&(n=c?c(a.label,a):a.label)&&l.push({label:n,color:a.color});if(i.legend.sorted)if(e.isFunction(i.legend.sorted))l.sort(i.legend.sorted);else if("reverse"==i.legend.sorted)l.reverse();else{var m="descending"!=i.legend.sorted;l.sort((function(e,t){return e.label==t.label?0:e.label<t.label!=m?1:-1}))}for(u=0;u<l.length;++u){let e=l[u];u%i.legend.noColumns==0&&(s&&r.push("</tr>"),r.push("<tr>"),s=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+i.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+e.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e.label+"</td>")}s&&r.push("</tr>");if(0==r.length)return;var h='<table style="font-size:smaller;color:'+i.grid.color+'">'+r.join("")+"</table>";if(null!=i.legend.container)e(i.legend.container).html(h);else{var d="",p=i.legend.position,f=i.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?d+="top:"+(f[1]+g.top)+"px;":"s"==p.charAt(0)&&(d+="bottom:"+(f[1]+g.bottom)+"px;"),"e"==p.charAt(1)?d+="right:"+(f[0]+g.right)+"px;":"w"==p.charAt(1)&&(d+="left:"+(f[0]+g.left)+"px;");var b=e('<div class="legend">'+h.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(t);if(0!=i.legend.backgroundOpacity){let t=i.legend.backgroundColor;null==t&&(t=i.grid.backgroundColor,t=t&&"string"==typeof t?e.color.parse(t):e.color.extract(b,"background-color"),t.a=1,t=t.toString());let a=b.children();e('<div style="position:absolute;width:'+a.width()+"px;height:"+a.height()+"px;"+d+"background-color:"+t+';"> </div>').prependTo(b).css("opacity",i.legend.backgroundOpacity)}}}()}function _(t){let a,n=t.options;a="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?s.width:s.height);let r=(t.max-t.min)/a,l=-Math.floor(Math.log(r)/Math.LN10),o=n.tickDecimals;null!=o&&l>o&&(l=o);let i,c=Math.pow(10,-l),u=r/c;if(u<1.5?i=1:u<3?(i=2,u>2.25&&(null==o||l+1<=o)&&(i=2.5,++l)):i=u<7.5?5:10,i*=c,null!=n.minTickSize&&i<n.minTickSize&&(i=n.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=o?o:l),t.tickSize=n.tickSize||i,null!==n.tickDecimals&&void 0!==n.tickDecimals||(t.scaledDecimals=t.tickDecimals+l),"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){let t,a=[],n=(o=e.min,(i=e.tickSize)*Math.floor(o/i)),r=0,l=Number.NaN;var o,i;do{t=l,l=n+r*e.tickSize,a.push(l),++r}while(l<e.max&&l!=t);return a},t.tickFormatter=function(e,t){let a=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var n=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var r=n.indexOf(".");let e=-1==r?0:n.length-r-1;if(e<t.tickDecimals)return(e?n:n+".")+(""+a).substr(1,t.tickDecimals-e)}return n}),e.isFunction(n.tickFormatter)&&(t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)}),null!=n.alignTicksWithAxis){var m=("x"==t.direction?d:p)[n.alignTicksWithAxis-1];if(m&&m.used&&m!=t){let e=t.tickGenerator(t);if(e.length>0&&(null==n.min&&(t.min=Math.min(t.min,e[0])),null==n.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1]))),t.tickGenerator=function(e){var t,a,n=[];for(a=0;a<m.ticks.length;++a)t=(m.ticks[a].v-m.min)/(m.max-m.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==n.tickDecimals){let e=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),a=t.tickGenerator(t);a.length>1&&/\..*0$/.test((a[1]-a[0]).toFixed(e))||(t.tickDecimals=e)}}}}function L(t){var a=t.options.ticks,n=[];let r,l;for(null==a||"number"==typeof a&&a>0?n=t.tickGenerator(t):a&&(n=e.isFunction(a)?a(t):a),t.ticks=[],r=0;r<n.length;++r){let e=null,a=n[r];"object"==typeof a?(l=+a[0],a.length>1&&(e=a[1])):l=+a,null==e&&(e=t.tickFormatter(l,t)),isNaN(l)||t.ticks.push({v:l,label:e})}}function j(e,t){let a=!1;return e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v),a=!0),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v),a=!0)),a}function z(){s.clear(),E(x.drawBackground,[m]);let e=i.grid;e.show&&e.backgroundColor&&(m.save(),m.translate(g.left,g.top),m.fillStyle=Z(i.grid.backgroundColor,b,0,"rgba(255, 255, 255, 0)"),m.fillRect(0,0,f,b),m.restore()),e.show&&!e.aboveData&&F();for(let t=0;t<o.length;++t)E(x.drawSeries,[m,o[t]]),P(o[t]);E(x.draw,[m]),e.show&&e.aboveData&&F(),s.render(),Y()}function I(e,t){var a,n,r,l,o=w();for(let i=0;i<o.length;++i)if((a=o[i]).direction==t&&(e[l=t+a.n+"axis"]||1!=a.n||(l=t+"axis"),e[l])){n=e[l].from,r=e[l].to;break}if(e[l]||(a="x"==t?d[0]:p[0],n=e[t+"1"],r=e[t+"2"]),null!=n&&null!=r&&n>r){let e=n;n=r,r=e}return{from:n,to:r,axis:a}}function F(){let t,a,n,r;m.save(),m.translate(g.left,g.top);let l=i.grid.markings;if(l)for(e.isFunction(l)&&(a=y.getAxes(),a.xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,l=l(a)),t=0;t<l.length;++t){let e=l[t],a=I(e,"x"),n=I(e,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),a.to<a.axis.min||a.from>a.axis.max||n.to<n.axis.min||n.from>n.axis.max)continue;a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max);let r=a.from===a.to,o=n.from===n.to;if(!r||!o)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),r||o){let t=e.lineWidth||i.grid.markingsLineWidth,l=t%2?.5:0;m.beginPath(),m.strokeStyle=e.color||i.grid.markingsColor,m.lineWidth=t,r?(m.moveTo(a.to+l,n.from),m.lineTo(a.to+l,n.to)):(m.moveTo(a.from,n.to+l),m.lineTo(a.to,n.to+l)),m.stroke()}else m.fillStyle=e.color||i.grid.markingsColor,m.fillRect(a.from,n.to,a.to-a.from,n.from-n.to)}a=w(),n=i.grid.borderWidth;for(let e=0;e<a.length;++e){var o,s,c,u,h=a[e],d=h.box,p=h.tickLength;if(h.show&&0!=h.ticks.length){for(m.lineWidth=1,"x"==h.direction?(o=0,s="full"==p?"top"==h.position?0:b:d.top-g.top+("top"==h.position?d.height:0)):(s=0,o="full"==p?"left"==h.position?0:f:d.left-g.left+("left"==h.position?d.width:0)),h.innermost||(m.strokeStyle=h.options.color,m.beginPath(),c=u=0,"x"==h.direction?c=f+1:u=b+1,1==m.lineWidth&&("x"==h.direction?s=Math.floor(s)+.5:o=Math.floor(o)+.5),m.moveTo(o,s),m.lineTo(o+c,s+u),m.stroke()),m.strokeStyle=h.options.tickColor,m.beginPath(),t=0;t<h.ticks.length;++t){let e=h.ticks[t].v;c=u=0,isNaN(e)||e<h.min||e>h.max||"full"==p&&("object"==typeof n&&n[h.position]>0||n>0)&&(e==h.min||e==h.max)||("x"==h.direction?(o=h.p2c(e),u="full"==p?-b:p,"top"==h.position&&(u=-u)):(s=h.p2c(e),c="full"==p?-f:p,"left"==h.position&&(c=-c)),1==m.lineWidth&&("x"==h.direction?o=Math.floor(o)+.5:s=Math.floor(s)+.5),m.moveTo(o,s),m.lineTo(o+c,s+u))}m.stroke()}}n&&(r=i.grid.borderColor,"object"==typeof n||"object"==typeof r?("object"!==typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!==typeof r&&(r={top:r,right:r,bottom:r,left:r}),n.top>0&&(m.strokeStyle=r.top,m.lineWidth=n.top,m.beginPath(),m.moveTo(0-n.left,0-n.top/2),m.lineTo(f,0-n.top/2),m.stroke()),n.right>0&&(m.strokeStyle=r.right,m.lineWidth=n.right,m.beginPath(),m.moveTo(f+n.right/2,0-n.top),m.lineTo(f+n.right/2,b),m.stroke()),n.bottom>0&&(m.strokeStyle=r.bottom,m.lineWidth=n.bottom,m.beginPath(),m.moveTo(f+n.right,b+n.bottom/2),m.lineTo(0,b+n.bottom/2),m.stroke()),n.left>0&&(m.strokeStyle=r.left,m.lineWidth=n.left,m.beginPath(),m.moveTo(0-n.left/2,b+n.bottom),m.lineTo(0-n.left/2,0),m.stroke())):(m.lineWidth=n,m.strokeStyle=i.grid.borderColor,m.strokeRect(-n/2,-n/2,f+n,b+n))),m.restore()}function P(e){e.lines.show&&(function(e){function t(e,t,a,n,r){let l=e.points,o=e.pointsize,i=null,s=null;m.beginPath();for(let p=o;p<l.length;p+=o){var c=l[p-o],u=l[p-o+1],h=l[p],d=l[p+1];if(null!=c&&null!=h){if(u<=d&&u<r.min){if(d<r.min)continue;c=(r.min-u)/(d-u)*(h-c)+c,u=r.min}else if(d<=u&&d<r.min){if(u<r.min)continue;h=(r.min-u)/(d-u)*(h-c)+c,d=r.min}if(u>=d&&u>r.max){if(d>r.max)continue;c=(r.max-u)/(d-u)*(h-c)+c,u=r.max}else if(d>=u&&d>r.max){if(u>r.max)continue;h=(r.max-u)/(d-u)*(h-c)+c,d=r.max}if(c<=h&&c<n.min){if(h<n.min)continue;u=(n.min-c)/(h-c)*(d-u)+u,c=n.min}else if(h<=c&&h<n.min){if(c<n.min)continue;d=(n.min-c)/(h-c)*(d-u)+u,h=n.min}if(c>=h&&c>n.max){if(h>n.max)continue;u=(n.max-c)/(h-c)*(d-u)+u,c=n.max}else if(h>=c&&h>n.max){if(c>n.max)continue;d=(n.max-c)/(h-c)*(d-u)+u,h=n.max}c==i&&u==s||m.moveTo(n.p2c(c)+t,r.p2c(u)+a),i=h,s=d,m.lineTo(n.p2c(h)+t,r.p2c(d)+a)}}m.stroke()}m.save(),m.translate(g.left,g.top),m.lineJoin="round";let a=e.lines.lineWidth,n=e.shadowSize;if(a>0&&n>0){m.lineWidth=n,m.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(a/2+n/2),Math.cos(r)*(a/2+n/2),e.xaxis,e.yaxis),m.lineWidth=n/2,t(e.datapoints,Math.sin(r)*(a/2+n/4),Math.cos(r)*(a/2+n/4),e.xaxis,e.yaxis)}m.lineWidth=a,m.strokeStyle=e.color;let l=W(e.lines,e.color,0,b);l&&(m.fillStyle=l,function(e,t,a){let n=e.points,r=e.pointsize,l=Math.min(Math.max(0,a.min),a.max),o=0,i=!1,s=1,c=0,u=0;for(;!(r>0&&o>n.length+r);){o+=r;let e=n[o-r],p=n[o-r+s],g=n[o],f=n[o+s];if(i){if(r>0&&null!=e&&null==g){u=o,r=-r,s=2;continue}if(r<0&&o==c+r){m.fill(),i=!1,r=-r,s=1,o=c=u+r;continue}}if(null!=e&&null!=g){if(e<=g&&e<t.min){if(g<t.min)continue;p=(t.min-e)/(g-e)*(f-p)+p,e=t.min}else if(g<=e&&g<t.min){if(e<t.min)continue;f=(t.min-e)/(g-e)*(f-p)+p,g=t.min}if(e>=g&&e>t.max){if(g>t.max)continue;p=(t.max-e)/(g-e)*(f-p)+p,e=t.max}else if(g>=e&&g>t.max){if(e>t.max)continue;f=(t.max-e)/(g-e)*(f-p)+p,g=t.max}if(i||(m.beginPath(),m.moveTo(t.p2c(e),a.p2c(l)),i=!0),p>=a.max&&f>=a.max)m.lineTo(t.p2c(e),a.p2c(a.max)),m.lineTo(t.p2c(g),a.p2c(a.max));else if(p<=a.min&&f<=a.min)m.lineTo(t.p2c(e),a.p2c(a.min)),m.lineTo(t.p2c(g),a.p2c(a.min));else{var h=e,d=g;p<=f&&p<a.min&&f>=a.min?(e=(a.min-p)/(f-p)*(g-e)+e,p=a.min):f<=p&&f<a.min&&p>=a.min&&(g=(a.min-p)/(f-p)*(g-e)+e,f=a.min),p>=f&&p>a.max&&f<=a.max?(e=(a.max-p)/(f-p)*(g-e)+e,p=a.max):f>=p&&f>a.max&&p<=a.max&&(g=(a.max-p)/(f-p)*(g-e)+e,f=a.max),e!=h&&m.lineTo(t.p2c(h),a.p2c(p)),m.lineTo(t.p2c(e),a.p2c(p)),m.lineTo(t.p2c(g),a.p2c(f)),g!=d&&(m.lineTo(t.p2c(g),a.p2c(f)),m.lineTo(t.p2c(d),a.p2c(f)))}}}}(e.datapoints,e.xaxis,e.yaxis));a>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);m.restore()}(e),e.points.show||e.bars.show||function(e){let t=[],a=null,n=null,r=e.datapoints,l=[];for(let c=0;c<r.pointsize-2;c++)l.push(0);for(let c=0;c<r.points.length;c+=r.pointsize){var o=r.points[c],i=r.points[c+1];n=c===r.points.length-r.pointsize?null:r.points[c+r.pointsize],null!==o&&null!==i&&null===a&&null===n&&(t.push(o),t.push(i),t.push.apply(t,l)),a=o}var s=r.points;r.points=t,e.points.radius=e.lines.lineWidth/2,D(e),r.points=s}(e)),e.bars.show&&function(e){let t;switch(m.save(),m.translate(g.left,g.top),m.lineWidth=e.bars.lineWidth,m.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var a=e.bars.fill?function(t,a){return W(e.bars,e.color,t,a)}:null;(function(t,a,n,r,l,o){var i=t.points,s=t.pointsize;for(let c=0;c<i.length;c+=s)null!=i[c]&&R(i[c],i[c+1],i[c+2],a,n,r,l,o,m,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,a,e.xaxis,e.yaxis),m.restore()}(e),e.points.show&&D(e)}function D(e){function t(e,t,a,n,r,l,o,i){var s=e.points,c=e.pointsize;for(let d=0;d<s.length;d+=c){var u=s[d],h=s[d+1];null==u||u<l.min||u>l.max||h<o.min||h>o.max||(m.beginPath(),u=l.p2c(u),h=o.p2c(h)+n,"circle"==i?m.arc(u,h,t,0,r?Math.PI:2*Math.PI,!1):i(m,u,h,t,r),m.closePath(),a&&(m.fillStyle=a,m.fill()),m.stroke())}}m.save(),m.translate(g.left,g.top);let a=e.points.lineWidth,n=e.shadowSize,r=e.points.radius,l=e.points.symbol;if(0==a&&(a=1e-4),a>0&&n>0){let a=n/2;m.lineWidth=a,m.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,a+a/2,!0,e.xaxis,e.yaxis,l),m.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,a/2,!0,e.xaxis,e.yaxis,l)}m.lineWidth=a,m.strokeStyle=e.color,t(e.datapoints,r,W(e.points,e.color),0,!1,e.xaxis,e.yaxis,l),m.restore()}function R(e,t,a,n,r,l,o,i,s,c,u){var m,h,d,p,g,f,b,x,y;c?(x=f=b=!0,g=!1,p=t+n,d=t+r,(h=e)<(m=a)&&(y=h,h=m,m=y,g=!0,f=!1)):(g=f=b=!0,x=!1,m=e+n,h=e+r,(p=t)<(d=a)&&(y=p,p=d,d=y,x=!0,b=!1)),h<o.min||m>o.max||p<i.min||d>i.max||(m<o.min&&(m=o.min,g=!1),h>o.max&&(h=o.max,f=!1),d<i.min&&(d=i.min,x=!1),p>i.max&&(p=i.max,b=!1),m=o.p2c(m),d=i.p2c(d),h=o.p2c(h),p=i.p2c(p),l&&(s.fillStyle=l(d,p),s.fillRect(m,p,h-m,d-p)),u>0&&(g||f||b||x)&&(s.beginPath(),s.moveTo(m,d),g?s.lineTo(m,p):s.moveTo(m,p),b?s.lineTo(h,p):s.moveTo(h,p),f?s.lineTo(h,d):s.moveTo(h,d),x?s.lineTo(m,d):s.moveTo(m,d),s.stroke()))}function W(t,a,n,r){let l=t.fill;if(!l)return null;if(t.fillColor)return Z(t.fillColor,n,r,a);let o=e.color.parse(a);return o.a="number"==typeof l?l:.4,o.normalize(),o.toString()}y.setData=v,y.setupGrid=N,y.draw=z,y.getPlaceholder=function(){return t},y.getCanvas=function(){return s.element},y.getPlotOffset=function(){return g},y.width=function(){return f},y.height=function(){return b},y.offset=function(){let e=u.offset();return e.left+=g.left,e.top+=g.top,e},y.getData=function(){return o},y.getAxes=function(){var t={};return e.each(d.concat(p),(function(e,a){a&&(t[a.direction+(1!=a.n?a.n:"")+"axis"]=a)})),t},y.getXAxes=function(){return d},y.getYAxes=function(){return p},y.c2p=S,y.p2c=function(e){var t,a,n,r={};for(t=0;t<d.length;++t)if((a=d[t])&&a.used&&(n="x"+a.n,null==e[n]&&1==a.n&&(n="x"),null!=e[n])){r.left=a.p2c(e[n]);break}for(t=0;t<p.length;++t)if((a=p[t])&&a.used&&(n="y"+a.n,null==e[n]&&1==a.n&&(n="y"),null!=e[n])){r.top=a.p2c(e[n]);break}return r},y.getOptions=function(){return i},y.highlight=Q,y.unhighlight=$,y.triggerRedrawOverlay=Y,y.pointOffset=function(e){return{left:parseInt(d[k(e,"x")-1].p2c(+e.x)+g.left,10),top:parseInt(p[k(e,"y")-1].p2c(+e.y)+g.top,10)}},y.shutdown=C,y.destroy=function(){C(),t.removeData("plot").empty(),o=[],i=null,s=null,c=null,u=null,m=null,h=null,d=[],p=[],x=null,A=[],y=null},y.resize=function(){let e=t.width(),a=t.height();s.resize(e,a),c.resize(e,a)},y.hooks=x,function(){let t={Canvas:a};for(let a=0;a<l.length;++a){let n=l[a];n.init(y,t),n.options&&e.extend(!0,i,n.options)}}(),function(a){e.extend(!0,i,a),a&&a.colors&&(i.colors=a.colors);null==i.xaxis.color&&(i.xaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.yaxis.color&&(i.yaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.xaxis.tickColor&&(i.xaxis.tickColor=i.grid.tickColor||i.xaxis.color);null==i.yaxis.tickColor&&(i.yaxis.tickColor=i.grid.tickColor||i.yaxis.color);null==i.grid.borderColor&&(i.grid.borderColor=i.grid.color);null==i.grid.tickColor&&(i.grid.tickColor=e.color.parse(i.grid.color).scale("a",.22).toString());var n,r,l,o=t.css("font-size"),s=o?+o.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*s),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(l=i.xaxes.length||1,n=0;n<l;++n)(r=i.xaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.xaxis,r),i.xaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(l=i.yaxes.length||1,n=0;n<l;++n)(r=i.yaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.yaxis,r),i.yaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));i.xaxis.noTicks&&null==i.xaxis.ticks&&(i.xaxis.ticks=i.xaxis.noTicks);i.yaxis.noTicks&&null==i.yaxis.ticks&&(i.yaxis.ticks=i.yaxis.noTicks);i.x2axis&&(i.xaxes[1]=e.extend(!0,{},i.xaxis,i.x2axis),i.xaxes[1].position="top",null==i.x2axis.min&&(i.xaxes[1].min=null),null==i.x2axis.max&&(i.xaxes[1].max=null));i.y2axis&&(i.yaxes[1]=e.extend(!0,{},i.yaxis,i.y2axis),i.yaxes[1].position="right",null==i.y2axis.min&&(i.yaxes[1].min=null),null==i.y2axis.max&&(i.yaxes[1].max=null));i.grid.coloredAreas&&(i.grid.markings=i.grid.coloredAreas);i.grid.coloredAreasColor&&(i.grid.markingsColor=i.grid.coloredAreasColor);i.lines&&e.extend(!0,i.series.lines,i.lines);i.points&&e.extend(!0,i.series.points,i.points);i.bars&&e.extend(!0,i.series.bars,i.bars);null!=i.shadowSize&&(i.series.shadowSize=i.shadowSize);null!=i.highlightColor&&(i.series.highlightColor=i.highlightColor);for(n=0;n<i.xaxes.length;++n)T(d,n+1).options=i.xaxes[n];for(n=0;n<i.yaxes.length;++n)T(p,n+1).options=i.yaxes[n];for(var u in x)i.hooks[u]&&i.hooks[u].length&&(x[u]=x[u].concat(i.hooks[u]));E(x.processOptions,[i])}(r),function(){t.find(".flot-temp-elem").remove(),"static"==t.css("position")&&t.css("position","relative");s=new a("flot-base",t),c=new a("flot-overlay",t),m=s.context,h=c.context,u=e(c.element).unbind();var n=t.data("plot");n&&(n.shutdown(),c.clear());t.data("plot",y)}(),v(n),N(),z(),function(){i.grid.hoverable&&(u.mousemove(q),u.bind("mouseleave",B));i.grid.clickable&&u.click(U);E(x.bindEvents,[u])}();var A=[],H=null;function q(e){i.grid.hoverable&&V("plothover",e,(function(e){return 0!=e.hoverable}))}function B(e){i.grid.hoverable&&V("plothover",e,(function(){return!1}))}function U(e){y.isSelecting||V("plotclick",e,(function(e){return 0!=e.clickable}))}function V(e,a,n){let r=u.offset(),l=a.pageX-r.left-g.left,s=a.pageY-r.top-g.top,c=S({left:l,top:s});c.pageX=a.pageX,c.pageY=a.pageY,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey;let m=function(e,t,a){let n,r,l,s=i.grid.mouseActiveRadius,c=s*s+1,u=null;for(n=o.length-1;n>=0;--n){if(!a(o[n]))continue;let i=o[n],f=i.xaxis,b=i.yaxis,x=i.datapoints.points,y=f.c2p(e),E=b.c2p(t),v=s/f.scale,k=s/b.scale;if(l=i.datapoints.pointsize,f.options.inverseTransform&&(v=Number.MAX_VALUE),b.options.inverseTransform&&(k=Number.MAX_VALUE),i.lines.show||i.points.show)for(r=0;r<x.length;r+=l){var m=x[r],h=x[r+1];if(null==m)continue;if(m-y>v||m-y<-v||h-E>k||h-E<-k)continue;let a=Math.abs(f.p2c(m)-e),o=Math.abs(b.p2c(h)-t),i=a*a+o*o;i<c&&(c=i,u=[n,r/l])}if(i.bars.show&&!u){var d,p;switch(i.bars.align){case"left":d=0;break;case"right":d=-i.bars.barWidth;break;default:d=-i.bars.barWidth/2}for(p=d+i.bars.barWidth,r=0;r<x.length;r+=l){m=x[r],h=x[r+1];var g=x[r+2];null!=m&&((o[n].bars.horizontal?y<=Math.max(g,m)&&y>=Math.min(g,m)&&E>=h+d&&E<=h+p:y>=m+d&&y<=m+p&&E>=Math.min(g,h)&&E<=Math.max(g,h))&&(u=[n,r/l]))}}}return u?(n=u[0],r=u[1],l=o[n].datapoints.pointsize,{datapoint:o[n].datapoints.points.slice(r*l,(r+1)*l),dataIndex:r,series:o[n],seriesIndex:n}):null}(l,s,n);if(m&&(m.pageX=parseInt(m.series.xaxis.p2c(m.datapoint[0])+r.left+g.left,10),m.pageY=parseInt(m.series.yaxis.p2c(m.datapoint[1])+r.top+g.top,10)),i.grid.autoHighlight){for(let t=0;t<A.length;++t){let a=A[t];a.auto!=e||m&&a.series==m.series&&a.point[0]==m.datapoint[0]&&a.point[1]==m.datapoint[1]||$(a.series,a.point)}m&&Q(m.series,m.datapoint,e)}t.trigger(e,[c,m])}function Y(){let e=i.interaction.redrawOverlayInterval;-1!=e?H||(H=setTimeout(G,e)):G()}function G(){let e,t;for(H=null,h.save(),c.clear(),h.translate(g.left,g.top),e=0;e<A.length;++e)t=A[e],t.series.bars.show?X(t.series,t.point):J(t.series,t.point);h.restore(),E(x.drawOverlay,[h])}function Q(e,t,a){if("number"==typeof e&&(e=o[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let n=K(e,t);-1==n?(A.push({series:e,point:t,auto:a}),Y()):a||(A[n].auto=!1)}function $(e,t){if(null==e&&null==t)return A=[],void Y();if("number"==typeof e&&(e=o[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let a=K(e,t);-1!=a&&(A.splice(a,1),Y())}function K(e,t){for(let a=0;a<A.length;++a){let n=A[a];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return a}return-1}function J(t,a){var n=a[0],r=a[1],l=t.xaxis,o=t.yaxis,i="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(n<l.min||n>l.max||r<o.min||r>o.max)return;let s=t.points.radius+t.points.lineWidth/2;h.lineWidth=s,h.strokeStyle=i;let c=1.5*s;n=l.p2c(n),r=o.p2c(r),h.beginPath(),"circle"==t.points.symbol?h.arc(n,r,c,0,2*Math.PI,!1):t.points.symbol(h,n,r,c,!1),h.closePath(),h.stroke()}function X(t,a){var n,r="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),l=r;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=r,R(a[0],a[1],a[2]||0,n,n+t.bars.barWidth,(function(){return l}),t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function Z(t,a,n,r){if("string"==typeof t)return t;{let l=m.createLinearGradient(0,n,0,a);for(let a=0,n=t.colors.length;a<n;++a){let o=t.colors[a];if("string"!=typeof o){let t=e.color.parse(r);null!=o.brightness&&(t=t.scale("rgb",o.brightness)),null!=o.opacity&&(t.a*=o.opacity),o=t.toString()}l.addColorStop(a/(n-1),o)}return l}}}e.fn.detach||(e.fn.detach=function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)}))}),a.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);let a=this.element,n=this.context,r=this.pixelRatio;this.width!=e&&(a.width=e*r,a.style.width=e+"px",this.width=e),this.height!=t&&(a.height=t*r,a.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(r,r)},a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){let e=this._textCache;for(let r in e)if(t.call(e,r)){let l=this.getTextLayer(r),o=e[r];l.hide();for(let e in o)if(t.call(o,e)){let r=o[e];for(let e in r)if(t.call(r,e)){let t=r[e].positions;for(var a,n=0;a=t[n];n++)a.active?a.rendered||(l.append(a.element),a.rendered=!0):(t.splice(n--,1),a.rendered&&a.element.detach());0==t.length&&delete r[e]}}l.show()}},a.prototype.getTextLayer=function(t){let a=this.text[t];return null==a&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),a=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),a},a.prototype.getTextInfo=function(t,a,n,r,l){let o,i,s,c;if(a=""+a,o="object"===typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,i=this._textCache[t],null==i&&(i=this._textCache[t]={}),s=i[o],null==s&&(s=i[o]={}),c=s[a],null==c){var u=e("<div></div>").html(a).css({position:"absolute","max-width":l,top:-9999}).appendTo(this.getTextLayer(t));"object"===typeof n?u.css({font:o,color:n.color}):"string"===typeof n&&u.addClass(n),c=s[a]={element:u,positions:[]};let r=this._textSizeCache[a];r?(c.width=r.width,c.height=r.height):(c.width=u.outerWidth(!0),c.height=u.outerHeight(!0),this._textSizeCache[a]={width:c.width,height:c.height}),u.detach()}return c},a.prototype.addText=function(e,t,a,n,r,l,o,i,s){let c=this.getTextInfo(e,n,r,l,o),u=c.positions;"center"==i?t-=c.width/2:"right"==i&&(t-=c.width),"middle"==s?a-=c.height/2:"bottom"==s&&(a-=c.height);for(var m,h=0;m=u[h];h++)if(m.x==t&&m.y==a)return void(m.active=!0);m={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:t,y:a},u.push(m),m.element.css({top:Math.round(a),left:Math.round(t),"text-align":i})},a.prototype.removeText=function(e,a,n,r,l,o){if(null==r){let a=this._textCache[e];if(null!=a)for(let e in a)if(t.call(a,e)){let n=a[e];for(let e in n)if(t.call(n,e))for(var i=n[e].positions,s=0;c=i[s];s++)c.active=!1}}else{var c;for(i=this.getTextInfo(e,r,l,o).positions,s=0;c=i[s];s++)c.x==a&&c.y==n&&(c.active=!1)}},e.plot=function(t,a,r){return new n(e(t),a,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,a){return this.each((function(){e.plot(this,t,a)}))}}(window.jQuery)},120:function(e,t){window.jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push((function(e,t,a){if(null==t.stack||!1===t.stack)return;const n=function(e,t){let a=null;for(let n=0;n<t.length&&e!=t[n];++n)t[n].stack==e.stack&&(a=t[n]);return a}(t,e.getData());if(!n)return;let r,l,o,i,s,c,u,m,h=a.pointsize,d=a.points,p=n.datapoints.pointsize,g=n.datapoints.points,f=[],b=t.lines.show,x=t.bars.horizontal,y=h>2&&(x?a.format[2].x:a.format[2].y),E=b&&t.lines.steps,v=x?1:0,k=x?0:1,w=0,S=0;for(;!(w>=d.length&&S>=g.length);){if(u=f.length,w<d.length&&null==d[w]){for(m=0;m<h;++m)f.push(g[w+m]);y&&(f[u+2]=g[w+k]),w+=h}else if(w>=d.length)S+=p;else if(S>=g.length){for(m=0;m<h;++m)f.push(d[w+m]);w+=h}else if(S<g.length&&null==g[S])S+=p;else{if(r=d[w+v],l=d[w+k],i=g[S+v],s=g[S+k],c=0,r==i){for(m=0;m<h;++m)f.push(d[w+m]);f[u+k]+=s,c=s,w+=h,S+=p}else if(r>i){if(0==w){for(m=0;m<h;++m)f.push(g[S+m]);c=s}if(w>0&&null!=d[w-h]){for(o=l+(d[w-h+k]-l)*(i-r)/(d[w-h+v]-r),f.push(i),f.push(o+s),m=2;m<h;++m)f.push(d[w+m]);c=s}S+=p}else{for(m=0;m<h;++m)f.push(d[w+m]);S>0&&null!=g[S-p]&&(c=s+(g[S-p+k]-s)*(r-i)/(g[S-p+v]-i)),f[u+k]+=c,w+=h}u!=f.length&&y&&(f[u+2]=c)}if(E&&u!=f.length&&u>0&&null!=f[u]&&f[u]!=f[u-h]&&f[u+1]!=f[u-h+1]){for(m=0;m<h;++m)f[u+h+m]=f[u+m];f[u+1]=f[u-h+1]}}a.points=f}))},options:{series:{stack:null}},name:"stack",version:"1.2"})},121:function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function a(e,t,a,n){if("function"==typeof e.strftime)return e.strftime(t);const r=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},l=[];let o=!1;const i=e.getHours(),s=i<12;let c;null==a&&(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),c=i>12?i-12:0==i?12:i;for(let u=0;u<t.length;++u){let m=t.charAt(u);if(o){switch(m){case"a":m=""+n[e.getDay()];break;case"b":m=""+a[e.getMonth()];break;case"d":m=r(e.getDate(),"");break;case"e":m=r(e.getDate()," ");break;case"h":case"H":m=r(i);break;case"I":m=r(c);break;case"l":m=r(c," ");break;case"m":m=r(e.getMonth()+1,"");break;case"M":m=r(e.getMinutes());break;case"q":m=""+(Math.floor(e.getMonth()/3)+1);break;case"S":m=r(e.getSeconds());break;case"y":m=r(e.getFullYear()%100);break;case"Y":m=""+e.getFullYear();break;case"p":m=s?"am":"pm";break;case"P":m=s?"AM":"PM";break;case"w":m=""+e.getDay()}l.push(m),o=!1}else"%"==m?o=!0:l.push(m)}return l.join("")}function n(e){function t(e,t,a,n){e[t]=function(){return a[n].apply(a,arguments)}}const a={date:e};void 0!=e.strftime&&t(a,"strftime",e,"strftime"),t(a,"getTime",e,"getTime"),t(a,"setTime",e,"setTime");const n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(let r=0;r<n.length;r++)t(a,"get"+n[r],e,"getUTC"+n[r]),t(a,"set"+n[r],e,"setUTC"+n[r]);return a}function r(e,t){return"browser"==t.timezone?new Date(e):(t.timezone&&t.timezone,n(new Date(e)))}const l={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},o=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],i=o.concat([[3,"month"],[6,"month"],[1,"year"]]),s=o.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(n){n.hooks.processOptions.push((function(n){e.each(n.getAxes(),(function(e,n){const o=n.options;"time"==o.mode&&(n.tickGenerator=function(e){const a=[],n=r(e.min,o);let c=0;const u=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?s:i;null!=o.minTickSize&&(c="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*l[o.minTickSize[1]]);for(var m=0;m<u.length-1&&!(e.delta<(u[m][0]*l[u[m][1]]+u[m+1][0]*l[u[m+1][1]])/2&&u[m][0]*l[u[m][1]]>=c);++m);let h=u[m][0],d=u[m][1];if("year"==d){if(null!=o.minTickSize&&"year"==o.minTickSize[1])h=Math.floor(o.minTickSize[0]);else{const t=Math.pow(10,Math.floor(Math.log(e.delta/l.year)/Math.LN10)),a=e.delta/l.year/t;h=a<1.5?1:a<3?2:a<7.5?5:10,h*=t}h<1&&(h=1)}e.tickSize=o.tickSize||[h,d];const p=e.tickSize[0];d=e.tickSize[1];const g=p*l[d];"second"==d?n.setSeconds(t(n.getSeconds(),p)):"minute"==d?n.setMinutes(t(n.getMinutes(),p)):"hour"==d?n.setHours(t(n.getHours(),p)):"month"==d?n.setMonth(t(n.getMonth(),p)):"quarter"==d?n.setMonth(3*t(n.getMonth()/3,p)):"year"==d&&n.setFullYear(t(n.getFullYear(),p)),n.setMilliseconds(0),g>=l.minute&&n.setSeconds(0),g>=l.hour&&n.setMinutes(0),g>=l.day&&n.setHours(0),g>=4*l.day&&n.setDate(1),g>=2*l.month&&n.setMonth(t(n.getMonth(),3)),g>=2*l.quarter&&n.setMonth(t(n.getMonth(),6)),g>=l.year&&n.setMonth(0);let f,b=0,x=Number.NaN;do{if(f=x,x=n.getTime(),a.push(x),"month"==d||"quarter"==d)if(p<1){n.setDate(1);const e=n.getTime();n.setMonth(n.getMonth()+("quarter"==d?3:1));const t=n.getTime();n.setTime(x+b*l.hour+(t-e)*p),b=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+p*("quarter"==d?3:1));else"year"==d?n.setFullYear(n.getFullYear()+p):n.setTime(x+g)}while(x<e.max&&x!=f);return a},n.tickFormatter=function(e,t){const n=r(e,t.options);if(null!=o.timeformat)return a(n,o.timeformat,o.monthNames,o.dayNames);const i=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],s=t.tickSize[0]*l[t.tickSize[1]],c=t.max-t.min,u=o.twelveHourClock?" %p":"",m=o.twelveHourClock?"%I":"%H";let h;h=s<l.minute?m+":%M:%S"+u:s<l.day?c<2*l.day?m+":%M"+u:"%b %d "+m+":%M"+u:s<l.month?"%b %d":i&&s<l.quarter||!i&&s<l.year?c<l.year?"%b":"%b %Y":i&&s<l.year?c<l.year?"Q%q":"Q%q %Y":"%Y";return a(n,h,o.monthNames,o.dayNames)})}))}))},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=a}(window.jQuery)},122:function(e,t){window.jQuery.plot.plugins.push({init:function(e){const t={x:-1,y:-1,locked:!1};function a(){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function n(a){if(t.locked)return;if(e.getSelection&&e.getSelection())return void(t.x=-1);const n=e.offset();t.x=Math.max(0,Math.min(a.pageX-n.left,e.width())),t.y=Math.max(0,Math.min(a.pageY-n.top,e.height())),e.triggerRedrawOverlay()}e.setCrosshair=function(a){if(a){const n=e.p2c(a);t.x=Math.max(0,Math.min(n.left,e.width())),t.y=Math.max(0,Math.min(n.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(a){a&&e.setCrosshair(a),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push((function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(a),t.mousemove(n))})),e.hooks.drawOverlay.push((function(e,a){const n=e.getOptions().crosshair;if(!n.mode)return;const r=e.getPlotOffset();if(a.save(),a.translate(r.left,r.top),-1!=t.x){const r=e.getOptions().crosshair.lineWidth%2?.5:0;if(a.strokeStyle=n.color,a.lineWidth=n.lineWidth,a.lineJoin="round",a.beginPath(),-1!=n.mode.indexOf("x")){const n=Math.floor(t.x)+r;a.moveTo(n,0),a.lineTo(n,e.height())}if(-1!=n.mode.indexOf("y")){const n=Math.floor(t.y)+r;a.moveTo(0,n),a.lineTo(e.width(),n)}a.stroke()}a.restore()})),e.hooks.shutdown.push((function(e,t){t.unbind("mouseout",a),t.unbind("mousemove",n)}))},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})},132:function(e,t,a){},136:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n);window.jQuery=r.a,window.moment=a(24);var l=a(0),o=a.n(l),i=a(20),s=a.n(i),c=a(7),u=a(14),m=a(141),h=a(142),d=a(143),p=a(144),g=a(145),f=a(146),b=a(165),x=a(166),y=a(147),E=a(148);const v=o.a.createContext("");function k(){return o.a.useContext(v)}var w=({consolesLink:e})=>{const t=Object(l.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],i=k();return o.a.createElement(m.a,{className:"mb-3",dark:!0,color:"dark",expand:"md",fixed:"top"},o.a.createElement(h.a,{onClick:()=>r(!n)}),o.a.createElement(u.a,{className:"pt-0 navbar-brand",to:"".concat(i,"/graph")},"Prometheus"),o.a.createElement(d.a,{isOpen:n,navbar:!0,style:{justifyContent:"space-between"}},o.a.createElement(p.a,{className:"ml-0",navbar:!0},null!==e&&o.a.createElement(g.a,null,o.a.createElement(f.a,{href:e},"Consoles")),o.a.createElement(g.a,null,o.a.createElement(f.a,{tag:u.a,to:"".concat(i,"/alerts")},"Alerts")),o.a.createElement(g.a,null,o.a.createElement(f.a,{tag:u.a,to:"".concat(i,"/graph")},"Graph")),o.a.createElement(b.a,{nav:!0,inNavbar:!0},o.a.createElement(x.a,{nav:!0,caret:!0},"Status"),o.a.createElement(y.a,null,o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/status")},"Runtime & Build Information"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/tsdb-status")},"TSDB Status"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/flags")},"Command-Line Flags"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/config")},"Configuration"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/rules")},"Rules"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/targets")},"Targets"),o.a.createElement(E.a,{tag:u.a,to:"".concat(i,"/service-discovery")},"Service Discovery"))),o.a.createElement(g.a,null,o.a.createElement(f.a,{href:"https://prometheus.io/docs/prometheus/latest/getting_started/"},"Help")),o.a.createElement(g.a,null,o.a.createElement(f.a,{href:"".concat(i,"/classic/graph").concat(window.location.search)},"Classic UI")))))},S=a(163),T=(a(108),a(46)),C=a.n(T),M=a(9),O=a(68);const N=(e,t)=>{const a=Object(l.useState)({status:"start fetching"}),n=Object(c.a)(a,2),r=n[0],o=n[1],i=Object(l.useState)(),s=Object(c.a)(i,2),u=s[0],m=s[1],h=Object(l.useState)(!0),d=Object(c.a)(h,2),p=d[0],g=d[1];return Object(l.useEffect)(()=>{(function(){var a=Object(O.a)(C.a.mark((function a(){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),a.prev=1,a.next=4,fetch(e,Object(M.a)({cache:"no-store",credentials:"same-origin"},t));case 4:if((n=a.sent).ok){a.next=7;break}throw new Error(n.statusText);case 7:return a.next=9,n.json();case 9:r=a.sent,o(r),g(!1),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),m(a.t0);case 17:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(){return a.apply(this,arguments)}})()()},[e,t]),{response:r,error:u,isLoading:p}};var _=a(31),L=a(149),j=a(15),z=a(11);const I=e=>t=>{let a=t.error,n=t.isLoading,r=t.customErrorMsg,l=t.componentTitle,i=Object(_.a)(t,["error","isLoading","customErrorMsg","componentTitle"]);return a?o.a.createElement(L.a,{color:"danger"},r||o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,"Error:")," Error fetching ",l||e.displayName,": ",a.message)):n?o.a.createElement(j.a,{size:"3x",icon:z.l,spin:!0,className:"position-absolute",style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}):o.a.createElement(e,i)};var F=a(160),P=a(155),D=a(16),R=a.n(D),W=a(156),A=a(157),H=a(158),q=a(159),B=a(65),U=a(150),V=a(151),Y=a(71),G=a(152),Q=a(78),$=a(69),K=a.n($),J=a(70),X=a.n(J);class Z extends l.Component{constructor(e){super(e),this.exprInputRef=o.a.createRef(),this.setHeight=()=>{const e=this.exprInputRef.current,t=e.offsetHeight,a=e.clientHeight,n=e.scrollHeight,r=t-a;this.setState({height:n+r})},this.handleInput=()=>{this.setValue(this.exprInputRef.current.value)},this.setValue=e=>{(0,this.props.onExpressionChange)(e),this.setState({height:"auto"},this.setHeight)},this.handleKeyPress=e=>{const t=this.props.executeQuery;"Enter"!==e.key||e.shiftKey||(t(),e.preventDefault())},this.getSearchMatches=(e,t)=>K.a.filter(e.replace(/ /g,""),t,{pre:"<strong>",post:"</strong>"}),this.createAutocompleteSection=e=>{const t=e.inputValue,a=void 0===t?"":t,n=e.closeMenu,r=e.highlightedIndex,l=this.props.autocompleteSections;let i=0;const s=a.length&&this.props.enableAutocomplete?Object.entries(l).reduce((t,[n,l])=>{const s=this.getSearchMatches(a,l);return s.length?[...t,o.a.createElement("ul",{className:"autosuggest-dropdown-list",key:n},o.a.createElement("li",{className:"autosuggest-dropdown-header"},n),s.slice(0,100).map(({original:t,string:a})=>{const l=e.getItemProps({key:t,index:i,item:t,style:{backgroundColor:r===i++?"lightgray":"white"}});return o.a.createElement("li",Object.assign({key:n},l,{dangerouslySetInnerHTML:{__html:X()(a,{allowedTags:["strong"]})}}))}))]:t},[]):[];return s.length?o.a.createElement("div",Object.assign({},e.getMenuProps(),{className:"autosuggest-dropdown"}),s):(setTimeout(n),null)},this.state={height:"auto"}}componentDidMount(){this.setHeight()}componentDidUpdate(e){const t=this.props.value;t!==e.value&&this.setValue(t)}render(){const e=this.props,t=e.executeQuery,a=e.value,n=this.state.height;return o.a.createElement(Q.a,{onSelect:this.setValue},e=>o.a.createElement("div",null,o.a.createElement(U.a,{className:"expression-input"},o.a.createElement(V.a,{addonType:"prepend"},o.a.createElement(Y.a,null,this.props.loading?o.a.createElement(j.a,{icon:z.l,spin:!0}):o.a.createElement(j.a,{icon:z.k}))),o.a.createElement(G.a,Object.assign({onInput:this.handleInput,style:{height:n},autoFocus:!0,type:"textarea",rows:"1",onKeyPress:this.handleKeyPress,placeholder:"Expression (press Shift+Enter for newlines)",innerRef:this.exprInputRef},e.getInputProps({onKeyDown:t=>{switch(t.key){case"Home":case"End":t.nativeEvent.preventDownshiftDefault=!0;break;case"ArrowUp":case"ArrowDown":e.isOpen||(t.nativeEvent.preventDownshiftDefault=!0);break;case"Enter":e.closeMenu();break;case"Escape":e.isOpen||this.exprInputRef.current.blur()}}}),{value:a})),o.a.createElement(V.a,{addonType:"append"},o.a.createElement(B.a,{className:"execute-btn",color:"primary",onClick:t},"Execute"))),e.isOpen&&this.createAutocompleteSection(e)))}}var ee=Z,te=a(28),ae=a(153),ne=a(154),re=(a(116),a(117),a(118),a(27));re.c.add(z.g,z.h,z.c,z.b,z.a,z.m),re.a.watch();class le extends l.Component{constructor(...e){super(...e),this.timeInputRef=o.a.createRef(),this.$time=null,this.getBaseTime=()=>this.props.time||R()().valueOf(),this.calcShiftRange=()=>this.props.range/2,this.increaseTime=()=>{const e=this.getBaseTime()+this.calcShiftRange();this.props.onChangeTime(e)},this.decreaseTime=()=>{const e=this.getBaseTime()-this.calcShiftRange();this.props.onChangeTime(e)},this.clearTime=()=>{this.props.onChangeTime(null)},this.timezone=()=>this.props.useLocalTime?R.a.tz.guess():"UTC"}componentDidMount(){this.$time=r()(this.timeInputRef.current),this.$time.datetimepicker({icons:{today:"fas fa-calendar-check"},buttons:{showClose:!0,showToday:!0},sideBySide:!0,format:"YYYY-MM-DD HH:mm:ss",locale:"en",timeZone:this.timezone(),defaultDate:this.props.time}),this.$time.on("change.datetimepicker",e=>{e.date&&this.props.onChangeTime(e.date.valueOf())})}componentWillUnmount(){this.$time.datetimepicker("destroy")}componentDidUpdate(e){const t=this.props,a=t.time,n=t.useLocalTime;e.time!==a&&this.$time.datetimepicker("date",a?R()(a):null),e.useLocalTime!==n&&this.$time.datetimepicker("options",{timeZone:this.timezone(),defaultDate:null})}render(){return o.a.createElement(U.a,{className:"time-input",size:"sm"},o.a.createElement(V.a,{addonType:"prepend"},o.a.createElement(B.a,{title:"Decrease time",onClick:this.decreaseTime},o.a.createElement(j.a,{icon:z.g,fixedWidth:!0}))),o.a.createElement(G.a,{placeholder:this.props.placeholder,innerRef:this.timeInputRef,onFocus:()=>this.$time.datetimepicker("show"),onBlur:()=>this.$time.datetimepicker("hide"),onKeyDown:e=>["Escape","Enter"].includes(e.key)&&this.$time.datetimepicker("hide")}),this.props.time&&o.a.createElement(V.a,{addonType:"append"},o.a.createElement(B.a,{className:"clear-time-btn",title:"Clear time",onClick:this.clearTime},o.a.createElement(j.a,{icon:z.m,fixedWidth:!0}))),o.a.createElement(V.a,{addonType:"append"},o.a.createElement(B.a,{title:"Increase time",onClick:this.increaseTime},o.a.createElement(j.a,{icon:z.h,fixedWidth:!0}))))}}var oe=le;class ie extends l.Component{constructor(...e){super(...e),this.rangeRef=o.a.createRef(),this.resolutionRef=o.a.createRef(),this.rangeSteps=[1,10,60,300,900,1800,3600,7200,21600,43200,86400,172800,604800,1209600,2419200,4838400,31536e3,63072e3].map(e=>1e3*e),this.onChangeRangeInput=e=>{const t=je(e);null===t?this.changeRangeInput(this.props.range):this.props.onChangeRange(t)},this.changeRangeInput=e=>{this.rangeRef.current.value=ze(e)},this.increaseRange=()=>{var e,t=Object(te.a)(this.rangeSteps);try{for(t.s();!(e=t.n()).done;){const t=e.value;if(this.props.range<t)return this.changeRangeInput(t),void this.props.onChangeRange(t)}}catch(a){t.e(a)}finally{t.f()}},this.decreaseRange=()=>{var e,t=Object(te.a)(this.rangeSteps.slice().reverse());try{for(t.s();!(e=t.n()).done;){const t=e.value;if(this.props.range>t)return this.changeRangeInput(t),void this.props.onChangeRange(t)}}catch(a){t.e(a)}finally{t.f()}}}componentDidUpdate(e){e.range!==this.props.range&&this.changeRangeInput(this.props.range),e.resolution!==this.props.resolution&&(this.resolutionRef.current.value=null!==this.props.resolution?this.props.resolution.toString():"")}render(){return o.a.createElement(ae.a,{inline:!0,className:"graph-controls",onSubmit:e=>e.preventDefault()},o.a.createElement(U.a,{className:"range-input",size:"sm"},o.a.createElement(V.a,{addonType:"prepend"},o.a.createElement(B.a,{title:"Decrease range",onClick:this.decreaseRange},o.a.createElement(j.a,{icon:z.i,fixedWidth:!0}))),o.a.createElement(G.a,{defaultValue:ze(this.props.range),innerRef:this.rangeRef,onBlur:()=>this.onChangeRangeInput(this.rangeRef.current.value)}),o.a.createElement(V.a,{addonType:"append"},o.a.createElement(B.a,{title:"Increase range",onClick:this.increaseRange},o.a.createElement(j.a,{icon:z.j,fixedWidth:!0})))),o.a.createElement(oe,{time:this.props.endTime,useLocalTime:this.props.useLocalTime,range:this.props.range,placeholder:"End time",onChangeTime:this.props.onChangeEndTime}),o.a.createElement(G.a,{placeholder:"Res. (s)",className:"resolution-input",defaultValue:null!==this.props.resolution?this.props.resolution.toString():"",innerRef:this.resolutionRef,onBlur:()=>{const e=parseInt(this.resolutionRef.current.value);this.props.onChangeResolution(e||null)},bsSize:"sm"}),o.a.createElement(ne.a,{className:"stacked-input",size:"sm"},o.a.createElement(B.a,{title:"Show unstacked line graph",onClick:()=>this.props.onChangeStacking(!1),active:!this.props.stacked},o.a.createElement(j.a,{icon:z.e,fixedWidth:!0})),o.a.createElement(B.a,{title:"Show stacked graph",onClick:()=>this.props.onChangeStacking(!0),active:this.props.stacked},o.a.createElement(j.a,{icon:z.d,fixedWidth:!0}))))}}var se=ie,ce=a(77);var ue=({labels:e,format:t})=>null===e?o.a.createElement(o.a.Fragment,null,"scalar"):t?(()=>{const t=[];let a=!0;for(const n in e)"__name__"!==n&&(t.push(o.a.createElement("span",{key:n},!a&&", ",o.a.createElement("span",{className:"legend-label-name"},n),"=",o.a.createElement("span",{className:"legend-label-value"},'"',e[n],'"'))),a&&(a=!1));return o.a.createElement("div",null,o.a.createElement("span",{className:"legend-metric-name"},e.__name__||""),o.a.createElement("span",{className:"legend-label-brace"},"{"),t,o.a.createElement("span",{className:"legend-label-brace"},"}"))})():o.a.createElement(o.a.Fragment,null,Le(e));class me extends l.PureComponent{constructor(...e){super(...e),this.state={selectedIndexes:[]},this.handleSeriesSelect=e=>t=>{const a=this.state.selectedIndexes;let n=[e];if(t.ctrlKey||t.metaKey){const t=this.props.chartData;n=a.includes(e)?a.filter(t=>t!==e):0===a.length?t.reduce((t,a,n)=>n===e?t:[...t,n],[]):[...a,e]}else 1===a.length&&a.includes(e)&&(n=[]);this.setState({selectedIndexes:n}),this.props.onSeriesToggle(n,e)}}componentDidUpdate(e){this.props.shouldReset&&e.shouldReset!==this.props.shouldReset&&this.setState({selectedIndexes:[]})}render(){const e=this.props,t=e.chartData,a=e.onLegendMouseOut,n=e.onHover,r=this.state.selectedIndexes,l=t.length>1&&0===r.length;return o.a.createElement("div",{className:"graph-legend",onMouseOut:l?a:void 0},t.map(({index:e,color:a,labels:i})=>o.a.createElement("div",{style:{opacity:0===r.length||r.includes(e)?1:.5},onClick:t.length>1?this.handleSeriesSelect(e):void 0,onMouseOver:l?n(e):void 0,key:e,className:"legend-item"},o.a.createElement("span",{className:"legend-swatch",style:{backgroundColor:a}}),o.a.createElement(ue,{labels:i,format:!0}))),t.length>1&&o.a.createElement("div",{className:"pl-1 mt-1 text-muted",style:{fontSize:13}},"Click: select series, ",navigator.platform.includes("Mac")?"CMD":"CTRL"," + click: toggle multiple series"))}}const he=e=>{if(null===e)return"null";const t=Math.abs(e);if(t>=1e24)return(e/1e24).toFixed(2)+"Y";if(t>=1e21)return(e/1e21).toFixed(2)+"Z";if(t>=1e18)return(e/1e18).toFixed(2)+"E";if(t>=1e15)return(e/1e15).toFixed(2)+"P";if(t>=1e12)return(e/1e12).toFixed(2)+"T";if(t>=1e9)return(e/1e9).toFixed(2)+"G";if(t>=1e6)return(e/1e6).toFixed(2)+"M";if(t>=1e3)return(e/1e3).toFixed(2)+"k";if(t>=1)return e.toFixed(2);if(0===t)return e.toFixed(2);if(t<1e-23)return(e/1e-24).toFixed(2)+"y";if(t<1e-20)return(e/1e-21).toFixed(2)+"z";if(t<1e-17)return(e/1e-18).toFixed(2)+"a";if(t<1e-14)return(e/1e-15).toFixed(2)+"f";if(t<1e-11)return(e/1e-12).toFixed(2)+"p";if(t<1e-8)return(e/1e-9).toFixed(2)+"n";if(t<1e-5)return(e/1e-6).toFixed(2)+"\xb5";if(t<.01)return(e/.001).toFixed(2)+"m";if(t<=1)return e.toFixed(2);throw Error("couldn't format a value, this is a bug")},de=(e,t,a)=>{const n=r.a.color.parse(e),l=n.r,o=n.g,i=n.b;if(!a)return"rgba(".concat(l,", ").concat(o,", ").concat(i,", ").concat(t,")");const s=255*(1-t);return"rgb(".concat(Math.round(s+t*l),",").concat(Math.round(s+t*o),",").concat(Math.round(s+t*i),")")},pe=(e,t)=>(a,n)=>Object(M.a)(Object(M.a)({},a),{},{color:de(a.color,n!==e?.3:1,t)}),ge=({queryParams:e,data:t})=>{const a=(e=>{const t=["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],a=t.length;let n=0;return e.result.map((e,l)=>(l%a===0&&l&&(n=n>=0?n<.5?-n-.2:0:-n),r.a.color.parse(t[l%a]||"#666").scale("rgb",1+n)))})(t),n=e,l=n.startTime,o=n.endTime,i=n.resolution;return t.result.map(({values:e,metric:t},n)=>{const r=[];let s=0;for(let a=l;a<=o;a+=i){const t=e[s];e.length>s&&t[0]<a+i/100?(r.push([1e3*t[0],fe(t[1])]),s++):r.push([1e3*a,null])}return{labels:null!==t?t:{},color:a[n].toString(),data:r,index:n}})},fe=e=>{const t=parseFloat(e);return isNaN(t)?null:t};a(119),a(120),a(121),a(122),a(123);class be extends l.PureComponent{constructor(...e){super(...e),this.chartRef=o.a.createRef(),this.$chart=void 0,this.rafID=0,this.selectedSeriesIndexes=[],this.state={chartData:ge(this.props)},this.plot=(e=this.state.chartData)=>{var t,a;this.chartRef.current&&(this.destroyPlot(),this.$chart=r.a.plot(r()(this.chartRef.current),e,(t=this.props.stacked,{grid:{hoverable:!0,clickable:!0,autoHighlight:!0,mouseActiveRadius:100},legend:{show:!1},xaxis:{mode:"time",showTicks:!0,showMinorTicks:!0,timeBase:"milliseconds",timezone:(a=this.props.useLocalTime)?"browser":void 0},yaxis:{tickFormatter:he},crosshair:{mode:"xy",color:"#bbb"},tooltip:{show:!0,cssClass:"graph-tooltip",content:(e,t,n,{series:r})=>{const l=r.labels,o=r.color;let i=R()(t);return a||(i=i.utc()),'\n            <div class="date">'.concat(i.format("YYYY-MM-DD HH:mm:ss Z"),'</div>\n            <div>\n              <span class="detail-swatch" style="background-color: ').concat(o,'"></span>\n              <span>').concat(l.__name__||"value",": <strong>").concat(n,'</strong></span>\n            <div>\n            <div class="labels mt-1">\n              ').concat(Object.keys(l).map(e=>"__name__"!==e?'<div class="mb-1"><strong>'.concat(e,"</strong>: ").concat(_e(l[e]),"</div>"):"").join(""),"\n            </div>\n          ")},defaultTheme:!1,lines:!0},series:{stack:t,lines:{lineWidth:t?1:2,steps:!1,fill:t},shadowSize:0}})))},this.destroyPlot=()=>{Ne(this.$chart)&&this.$chart.destroy()},this.handleSeriesSelect=(e,t)=>{const a=this.state.chartData;this.plot(1===this.selectedSeriesIndexes.length&&this.selectedSeriesIndexes.includes(t)?a.map(pe(t,this.props.stacked)):a.filter((t,a)=>e.includes(a))),this.selectedSeriesIndexes=e},this.handleSeriesHover=e=>()=>{this.rafID&&cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>{this.plotSetAndDraw(this.state.chartData.map(pe(e,this.props.stacked)))})},this.handleLegendMouseOut=()=>{cancelAnimationFrame(this.rafID),this.plotSetAndDraw()},this.handleResize=()=>{Ne(this.$chart)&&this.plot(this.$chart.getData())}}componentDidUpdate(e){const t=this.props,a=t.data,n=t.stacked,r=t.useLocalTime;e.data!==a?(this.selectedSeriesIndexes=[],this.setState({chartData:ge(this.props)},this.plot)):e.stacked!==n&&this.setState({chartData:ge(this.props)},()=>{0===this.selectedSeriesIndexes.length?this.plot():this.plot(this.state.chartData.filter((e,t)=>this.selectedSeriesIndexes.includes(t)))}),e.useLocalTime!==r&&this.plot()}componentDidMount(){this.plot()}componentWillUnmount(){this.destroyPlot()}plotSetAndDraw(e=this.state.chartData){Ne(this.$chart)&&(this.$chart.setData(e),this.$chart.draw())}render(){const e=this.state.chartData;return o.a.createElement("div",{className:"graph"},o.a.createElement(ce.a,{handleWidth:!0,onResize:this.handleResize,skipOnMount:!0}),o.a.createElement("div",{className:"graph-chart",ref:this.chartRef}),o.a.createElement(me,{shouldReset:0===this.selectedSeriesIndexes.length,chartData:e,onHover:this.handleSeriesHover,onLegendMouseOut:this.handleLegendMouseOut,onSeriesToggle:this.handleSeriesSelect}))}}var xe=be;const ye=({data:e,stacked:t,useLocalTime:a,lastQueryParams:n})=>Ne(e)?0===e.result.length?o.a.createElement(L.a,{color:"secondary"},"Empty query result"):"matrix"!==e.resultType?o.a.createElement(L.a,{color:"danger"},"Query result is of wrong type '",e.resultType,"', should be 'matrix' (range vector)."):o.a.createElement(xe,{data:e,stacked:t,useLocalTime:a,queryParams:n}):o.a.createElement(L.a,{color:"light"},"No data queried yet"),Ee=e=>e.length>1e4?e.slice(0,1e4):e;var ve=({data:e})=>{if(null===e)return o.a.createElement(L.a,{color:"light"},"No data queried yet");if(null===e.result||0===e.result.length)return o.a.createElement(L.a,{color:"secondary"},"Empty query result");let t=[],a=!1;const n=e.result.length<=1e3;switch(e.resultType){case"vector":t=Ee(e.result).map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement(ue,{labels:e.metric,format:n})),o.a.createElement("td",null,e.value[1]))),a=t.length!==e.result.length;break;case"matrix":t=Ee(e.result).map((e,t)=>{const a=e.values.map(e=>e[1]+" @"+e[0]).join("\n");return o.a.createElement("tr",{style:{whiteSpace:"pre"},key:t},o.a.createElement("td",null,o.a.createElement(ue,{labels:e.metric,format:n})),o.a.createElement("td",null,a))}),a=t.length!==e.result.length;break;case"scalar":t.push(o.a.createElement("tr",{key:"0"},o.a.createElement("td",null,"scalar"),o.a.createElement("td",null,e.result[1])));break;case"string":t.push(o.a.createElement("tr",{key:"0"},o.a.createElement("td",null,"string"),o.a.createElement("td",null,e.result[1])));break;default:return o.a.createElement(L.a,{color:"danger"},"Unsupported result value type")}return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement(L.a,{color:"danger"},o.a.createElement("strong",null,"Warning:")," Fetched ",e.result.length," metrics, only displaying first ",t.length,"."),!n&&o.a.createElement(L.a,{color:"secondary"},o.a.createElement("strong",null,"Notice:")," Showing more than ",1e3," series, turning off label formatting for performance reasons."),o.a.createElement(P.a,{hover:!0,size:"sm",className:"data-table"},o.a.createElement("tbody",null,t)))};a(132);var ke=e=>{const t=e.loadTime,a=e.resolution,n=e.resultSeries;return o.a.createElement("div",{className:"query-stats"},o.a.createElement("span",{className:"float-right"},"Load time: ",t,"ms \u2002 Resolution: ",a,"s \u2002 Result series: ",n))};let we;!function(e){e.Graph="graph",e.Table="table"}(we||(we={}));const Se={type:we.Table,expr:"",range:36e5,endTime:null,resolution:null,stacked:!1};class Te extends l.Component{constructor(e){super(e),this.abortInFlightFetch=null,this.executeQuery=()=>{const e=this.state.exprInputValue,t=Date.now();if(this.props.onExecuteQuery(e),this.props.options.expr!==e&&this.setOptions({expr:e}),""===e)return;this.abortInFlightFetch&&(this.abortInFlightFetch(),this.abortInFlightFetch=null);const a=new AbortController;this.abortInFlightFetch=()=>a.abort(),this.setState({loading:!0});const n=this.getEndTime().valueOf()/1e3,r=n-this.props.options.range/1e3,l=this.props.options.resolution||Math.max(Math.floor(this.props.options.range/25e4),1),o=new URLSearchParams({query:e});let i;switch(this.props.options.type){case"graph":i="query_range",o.append("start",r.toString()),o.append("end",n.toString()),o.append("step",l.toString());break;case"table":i="query",o.append("time",n.toString());break;default:throw new Error('Invalid panel type "'+this.props.options.type+'"')}fetch("".concat(this.props.pathPrefix,"/").concat("api/v1","/").concat(i,"?").concat(o),{cache:"no-store",credentials:"same-origin",signal:a.signal}).then(e=>e.json()).then(e=>{if("success"!==e.status)throw new Error(e.error||"invalid response JSON");let a=0;if(e.data){const t=e.data,n=t.resultType,r=t.result;"scalar"===n?a=1:r&&r.length>0&&(a=r.length)}this.setState({error:null,data:e.data,warnings:e.warnings,lastQueryParams:{startTime:r,endTime:n,resolution:l},stats:{loadTime:Date.now()-t,resolution:l,resultSeries:a},loading:!1}),this.abortInFlightFetch=null}).catch(e=>{"AbortError"!==e.name&&this.setState({error:"Error executing query: "+e.message,loading:!1})})},this.handleExpressionChange=e=>{this.setState({exprInputValue:e})},this.handleChangeRange=e=>{this.setOptions({range:e})},this.getEndTime=()=>null===this.props.options.endTime?R()():this.props.options.endTime,this.handleChangeEndTime=e=>{this.setOptions({endTime:e})},this.handleChangeResolution=e=>{this.setOptions({resolution:e})},this.handleChangeType=e=>{this.props.options.type!==e&&(this.setState({data:null}),this.setOptions({type:e}))},this.handleChangeStacking=e=>{this.setOptions({stacked:e})},this.state={data:null,lastQueryParams:null,loading:!1,warnings:null,error:null,stats:null,exprInputValue:e.options.expr}}componentDidUpdate({options:e}){const t=this.props.options,a=t.endTime,n=t.range,r=t.resolution,l=t.type;e.endTime===a&&e.range===n&&e.resolution===r&&e.type===l||this.executeQuery()}componentDidMount(){this.executeQuery()}setOptions(e){const t=Object(M.a)(Object(M.a)({},this.props.options),e);this.props.onOptionsChanged(t)}render(){var e;const t=this.props,a=t.pastQueries,n=t.metricNames,r=t.options;return o.a.createElement("div",{className:"panel"},o.a.createElement(W.a,null,o.a.createElement(A.a,null,o.a.createElement(ee,{value:this.state.exprInputValue,onExpressionChange:this.handleExpressionChange,executeQuery:this.executeQuery,loading:this.state.loading,enableAutocomplete:this.props.enableAutocomplete,autocompleteSections:{"Query History":a,"Metric Names":n}}))),o.a.createElement(W.a,null,o.a.createElement(A.a,null,this.state.error&&o.a.createElement(L.a,{color:"danger"},this.state.error))),null===(e=this.state.warnings)||void 0===e?void 0:e.map((e,t)=>o.a.createElement(W.a,{key:t},o.a.createElement(A.a,null,e&&o.a.createElement(L.a,{color:"warning"},e)))),o.a.createElement(W.a,null,o.a.createElement(A.a,null,o.a.createElement(p.a,{tabs:!0},o.a.createElement(g.a,null,o.a.createElement(f.a,{className:"table"===r.type?"active":"",onClick:()=>this.handleChangeType(we.Table)},"Table")),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:"graph"===r.type?"active":"",onClick:()=>this.handleChangeType(we.Graph)},"Graph")),!this.state.loading&&!this.state.error&&this.state.stats&&o.a.createElement(ke,this.state.stats)),o.a.createElement(H.a,{activeTab:r.type},o.a.createElement(q.a,{tabId:"table"},"table"===r.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"table-controls"},o.a.createElement(oe,{time:r.endTime,useLocalTime:this.props.useLocalTime,range:r.range,placeholder:"Evaluation time",onChangeTime:this.handleChangeEndTime})),o.a.createElement(ve,{data:this.state.data}))),o.a.createElement(q.a,{tabId:"graph"},"graph"===this.props.options.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{range:r.range,endTime:r.endTime,useLocalTime:this.props.useLocalTime,resolution:r.resolution,stacked:r.stacked,onChangeRange:this.handleChangeRange,onChangeEndTime:this.handleChangeEndTime,onChangeResolution:this.handleChangeResolution,onChangeStacking:this.handleChangeStacking}),o.a.createElement(ye,{data:this.state.data,stacked:r.stacked,useLocalTime:this.props.useLocalTime,lastQueryParams:this.state.lastQueryParams})))))),o.a.createElement(W.a,null,o.a.createElement(A.a,null,o.a.createElement(B.a,{className:"float-right",color:"link",onClick:this.props.removePanel,size:"sm"},"Remove Panel"))))}}var Ce=Te;const Me=()=>"_".concat(Math.random().toString(36).substr(2,9)),Oe=e=>e.length>0,Ne=e=>null!==e&&void 0!==e,_e=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,(function(e){return t[e]}))},Le=e=>{if(null===e)return"scalar";let t=(e.__name__||"")+"{";const a=[];for(const n in e)"__name__"!==n&&a.push(n+'="'+e[n]+'"');return t+=a.join(", ")+"}",t},je=e=>{if(""===e)return null;if("0"===e)return 0;const t=new RegExp("^(([0-9]+)y)?(([0-9]+)w)?(([0-9]+)d)?(([0-9]+)h)?(([0-9]+)m)?(([0-9]+)s)?(([0-9]+)ms)?$"),a=e.match(t);if(!a)return null;let n=0;const r=(e,t)=>{if(void 0===a[e])return;const r=parseInt(a[e]);n+=r*t};return r(2,31536e6),r(4,6048e5),r(6,864e5),r(8,36e5),r(10,6e4),r(12,1e3),r(14,1),n},ze=e=>{let t=e,a="";if(0===t)return"0s";const n=(e,n,r)=>{if(r&&t%n!==0)return;const l=Math.floor(t/n);l>0&&(a+="".concat(l).concat(e),t-=l*n)};return n("y",31536e6,!0),n("w",6048e5,!0),n("d",864e5,!1),n("h",36e5,!1),n("m",6e4,!1),n("s",1e3,!1),n("ms",1,!1),a};function Ie(e){return R.a.utc(e).valueOf()}const Fe=e=>{const t=e<0?"-":"",a=e<0?-1*e:e,n=R.a.duration(a,"ms"),r=Math.floor(n.milliseconds()),l=Math.floor(n.seconds()),o=Math.floor(n.minutes()),i=Math.floor(n.hours()),s=Math.floor(n.asDays());return 0!==s?"".concat(t).concat(s,"d ").concat(i,"h ").concat(o,"m ").concat(l,"s"):0!==i?"".concat(t).concat(i,"h ").concat(o,"m ").concat(l,"s"):0!==o?"".concat(t).concat(o,"m ").concat(l,"s"):0!==l?"".concat(t).concat(l,".").concat(r,"s"):a>0?"".concat(t).concat(a.toFixed(3),"ms"):"0s"},Pe=(e,t)=>{const a=Ie(e);return a<0?"Never":Fe(t-a)},De=/^g\d+\..+=.+$/,Re=e=>{if(""===e)return[];const t=e.substring(1).split("&");return t.reduce((e,a,n)=>{const r=e.length,l="g".concat(r,".");if(a.startsWith("".concat(l,"expr="))){const a=l.length;return[...e,{id:Me(),key:"".concat(r),options:t.slice(n).reduce((e,t)=>t.startsWith(l)&&De.test(t)?Object(M.a)(Object(M.a)({},e),We(t.substring(a))):e,Se)}]}return e},[])},We=e=>{const t=e.split("="),a=Object(c.a)(t,2),n=a[0],r=a[1],l=decodeURIComponent(r.replace(/\+/g," "));switch(n){case"expr":return{expr:l};case"tab":return{type:"0"===l?we.Graph:we.Table};case"stacked":return{stacked:"1"===l};case"range_input":const e=je(l);return Ne(e)?{range:e}:{};case"end_input":case"moment_input":return{endTime:Ie(l)};case"step_input":const t=parseInt(l);return t>0?{resolution:t}:{}}return{}},Ae=({key:e,options:t})=>{const a=(e=>(t,a)=>"g".concat(e,".").concat(t,"=").concat(encodeURIComponent(a)))(e),n=t.expr,r=t.type,l=t.stacked,o=t.range,i=t.endTime,s=t.resolution,c=!!Ne(i)&&function(e){return R.a.utc(e).format("YYYY-MM-DD HH:mm:ss")}(i);return[a("expr",n),a("tab",r===we.Graph?0:1),a("stacked",l?1:0),a("range_input",ze(o)),c?"".concat(a("end_input",c),"&").concat(a("moment_input",c)):"",Ne(s)?a("step_input",s):""].filter(Oe).join("&")},He=e=>"../graph?g0.expr=".concat(encodeURIComponent(e),"&g0.tab=1&g0.stacked=0&g0.range_input=1h"),qe=(e,t)=>Object.entries(e).map(t),Be=(...e)=>(...t)=>{e.filter(Boolean).forEach(e=>e.apply(null,t))},Ue={firing:"danger",pending:"warning",inactive:"success"},Ve=({annotations:e})=>o.a.createElement(l.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:4},o.a.createElement("h5",{className:"font-weight-bold"},"Annotations"))),o.a.createElement("tr",null,o.a.createElement("td",{colSpan:4},Object.entries(e).map(([e,t],a)=>o.a.createElement("div",{key:a},o.a.createElement("strong",null,e),o.a.createElement("div",null,t))))));var Ye=({rule:e,showAnnotations:t})=>{const a=Object(l.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{fade:!1,onClick:()=>i(!r),color:Ue[e.state],style:{cursor:"pointer"}},o.a.createElement(j.a,{icon:r?z.f:z.h,fixedWidth:!0}),o.a.createElement("strong",null,e.name)," (","".concat(e.alerts.length," active"),")"),o.a.createElement(d.a,{isOpen:r,className:"mb-2"},o.a.createElement("pre",{style:{background:"#f5f5f5",padding:15}},o.a.createElement("code",null,o.a.createElement("div",null,"name: ",o.a.createElement(u.a,{to:He('ALERTS{alertname="'.concat(e.name,'"}'))},e.name)),o.a.createElement("div",null,"expr: ",o.a.createElement(u.a,{to:He(e.query)},e.query)),e.duration>0&&o.a.createElement("div",null,o.a.createElement("div",null,"for: ",ze(1e3*e.duration))),e.labels&&Object.keys(e.labels).length>0&&o.a.createElement("div",null,o.a.createElement("div",null,"labels:"),Object.entries(e.labels).map(([e,t])=>o.a.createElement("div",{className:"ml-4",key:e},e,": ",t))),e.annotations&&Object.keys(e.annotations).length>0&&o.a.createElement("div",null,o.a.createElement("div",null,"annotations:"),Object.entries(e.annotations).map(([e,t])=>o.a.createElement("div",{className:"ml-4",key:e},e,": ",t))))),e.alerts.length>0&&o.a.createElement(P.a,{bordered:!0,size:"sm"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Labels"),o.a.createElement("th",null,"State"),o.a.createElement("th",null,"Active Since"),o.a.createElement("th",null,"Value"))),o.a.createElement("tbody",null,e.alerts.map((e,a)=>{return o.a.createElement(l.Fragment,{key:a},o.a.createElement("tr",null,o.a.createElement("td",{style:{verticalAlign:"middle"}},Object.entries(e.labels).map(([e,t],a)=>o.a.createElement(F.a,{key:a,color:"primary",className:"mr-1"},e,"=",t))),o.a.createElement("td",null,o.a.createElement("h5",{className:"m-0"},o.a.createElement(F.a,{color:Ue[e.state]+" text-uppercase",className:"px-3"},e.state))),o.a.createElement("td",null,e.activeAt),o.a.createElement("td",null,(n=e.value,isNaN(Number(n))?n:Number(n)))),t&&o.a.createElement(Ve,{annotations:e.annotations}));var n})))))},Ge=a(161),Qe=a(162);var $e=Object(l.memo)(e=>{let t=e.children,a=e.wrapperStyles,n=e.id,r=Object(_.a)(e,["children","wrapperStyles","id"]);return o.a.createElement(Ge.a,{className:"custom-control custom-checkbox",style:a},o.a.createElement(G.a,Object.assign({},r,{id:n,type:"checkbox",className:"custom-control-input"})),o.a.createElement(Qe.a,{style:{userSelect:"none"},className:"custom-control-label",for:n},t))});function Ke(e,t){const a=JSON.parse(localStorage.getItem(e)||JSON.stringify(t)),n=Object(l.useState)(a),r=Object(c.a)(n,2),o=r[0],i=r[1];return Object(l.useEffect)(()=>{const t=JSON.stringify(o);localStorage.setItem(e,t)},[e,o]),[o,i]}const Je=[["inactive","success"],["pending","warning"],["firing","danger"]],Xe=({groups:e=[],statsCount:t})=>{const a=Ke("alerts-status-filter",{firing:!0,pending:!0,inactive:!0}),n=Object(c.a)(a,2),r=n[0],i=n[1],s=Ke("alerts-annotations-status",{checked:!1}),u=Object(c.a)(s,2),m=u[0],h=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex togglers-wrapper"},Je.map(([e,a])=>{return o.a.createElement($e,{key:e,wrapperStyles:{marginRight:10},checked:r[e],id:"".concat(e,"-toggler"),onClick:(n=e,()=>{i(Object(M.a)(Object(M.a)({},r),{},{[n]:!r[n]}))})},o.a.createElement(F.a,{color:a,className:"text-capitalize"},e," (",t[e],")"));var n}),o.a.createElement($e,{wrapperStyles:{marginLeft:"auto"},checked:m.checked,id:"show-annotations-toggler",onClick:()=>{h({checked:!m.checked})}},o.a.createElement("span",{style:{fontSize:"0.9rem",lineHeight:1.9}},"Show annotations"))),e.map((e,t)=>e.rules.some(e=>r[e.state])?o.a.createElement(l.Fragment,{key:t},o.a.createElement(Ze,{rules:e.rules},e.file," > ",e.name),e.rules.map((e,t)=>r[e.state]&&o.a.createElement(Ye,{key:e.name+t,showAnnotations:m.checked,rule:e}))):null))},Ze=({rules:e,children:t})=>{const a=e.reduce((e,t)=>Object(M.a)(Object(M.a)({},e),{},{[t.state]:e[t.state]+t.alerts.length}),{firing:0,pending:0});return o.a.createElement("div",{className:"group-info border rounded-sm",style:{lineHeight:1.1}},t,o.a.createElement("div",{className:"badges-wrapper"},Ne(a.inactive)&&o.a.createElement(F.a,{color:"success"},"inactive"),a.pending>0&&o.a.createElement(F.a,{color:"warning"},"pending (",a.pending,")"),a.firing>0&&o.a.createElement(F.a,{color:"danger"},"firing (",a.firing,")")))};Xe.displayName="Alerts";const et=I(Xe);var tt=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/rules?type=alert")),a=t.response,n=t.error,r=t.isLoading,l={inactive:0,pending:0,firing:0};return a.data&&a.data.groups&&a.data.groups.forEach(e=>e.rules.forEach(e=>l[e.state]++)),o.a.createElement(et,Object.assign({},a.data,{statsCount:l,error:n,isLoading:r}))},at=a(75),nt=a.n(at);a(136);const rt=({yaml:e})=>o.a.createElement("pre",{className:"config-yaml"},e);rt.displayName="Config";const lt=I(rt),ot=({error:e,data:t})=>{const a=Object(l.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],s=t&&t.yaml;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Configuration\xa0",o.a.createElement(nt.a,{text:s,onCopy:(e,t)=>{i(t),setTimeout(i,1500)}},o.a.createElement(B.a,{color:"light",disabled:!s},r?"Copied":"Copy to clipboard"))),o.a.createElement(lt,{error:e,isLoading:!s,yaml:s}))};var it=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/status/config")),a=t.response,n=t.error;return o.a.createElement(ot,{error:n,data:a.data})};const st=({data:e={}})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Command-Line Flags"),o.a.createElement(P.a,{bordered:!0,size:"sm",striped:!0},o.a.createElement("tbody",null,Object.keys(e).map(t=>o.a.createElement("tr",{key:t},o.a.createElement("th",null,t),o.a.createElement("td",null,e[t])))))),ct=I(st);st.displayName="Flags";var ut=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/status/flags")),a=t.response,n=t.error,r=t.isLoading;return o.a.createElement(ct,{data:a.data,error:n,isLoading:r})},mt=a(24);const ht=e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,e.title,":"),o.a.createElement(u.a,{className:"ml-4",to:He(e.expr)},e.text),o.a.createElement("br",null)),dt=I(({response:e})=>{const t=e=>{switch(e){case"ok":return"success";case"err":return"danger";case"unknown":return"warning"}};if(e.data){const a=e.data.groups;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Rules"),a.map((e,a)=>o.a.createElement(P.a,{bordered:!0,key:a},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:3},o.a.createElement("a",{href:"#"+e.name},o.a.createElement("h2",{id:e.name},e.name))),o.a.createElement("td",null,o.a.createElement("h2",null,Pe(e.lastEvaluation,Object(mt.now)())," ago")),o.a.createElement("td",null,o.a.createElement("h2",null,Fe(1e3*parseFloat(e.evaluationTime)))))),o.a.createElement("tbody",null,o.a.createElement("tr",{className:"font-weight-bold"},o.a.createElement("td",null,"Rule"),o.a.createElement("td",null,"State"),o.a.createElement("td",null,"Error"),o.a.createElement("td",null,"Last Evaluation"),o.a.createElement("td",null,"Evaluation Time")),e.rules.map((e,a)=>o.a.createElement("tr",{key:a},o.a.createElement("td",{style:{backgroundColor:"#F5F5F5"},className:"rule_cell"},e.alerts?o.a.createElement(ht,{title:"alert",text:e.name,expr:'ALERTS{alertname="'.concat(e.name,'"}')}):o.a.createElement(ht,{title:"record",text:e.name,expr:e.name}),o.a.createElement(ht,{title:"expr",text:e.query,expr:e.query}),e.duration>0&&o.a.createElement("div",null,o.a.createElement("strong",null,"for:")," ",ze(1e3*e.duration)),e.labels&&Object.keys(e.labels).length>0&&o.a.createElement("div",null,o.a.createElement("strong",null,"labels:"),Object.entries(e.labels).map(([e,t])=>o.a.createElement("div",{className:"ml-4",key:e},e,": ",t))),e.alerts&&e.annotations&&Object.keys(e.annotations).length>0&&o.a.createElement("div",null,o.a.createElement("strong",null,"annotations:"),Object.entries(e.annotations).map(([e,t])=>o.a.createElement("div",{className:"ml-4",key:e},e,": ",t)))),o.a.createElement("td",null,o.a.createElement(F.a,{color:t(e.health)},e.health.toUpperCase())),o.a.createElement("td",null,e.lastError?o.a.createElement(L.a,{color:"danger"},e.lastError):null),o.a.createElement("td",null,Pe(e.lastEvaluation,Object(mt.now)())," ago"),o.a.createElement("td",null,Fe(1e3*parseFloat(e.evaluationTime)))))))))}return null});var pt=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/rules")),a=t.response,n=t.error,r=t.isLoading;return o.a.createElement(dt,{response:a,error:n,isLoading:r})};const gt=({children:e,event:t,showMore:a})=>o.a.createElement("h3",null,e,o.a.createElement(B.a,{size:"xs",onClick:t,style:{padding:"0.3em 0.3em 0.25em 0.3em",fontSize:"0.375em",marginLeft:"1em",verticalAlign:"baseline"},color:"primary"},"show ",a?"less":"more")),ft=e=>Object.entries(e).map(([e,t])=>o.a.createElement("div",{key:e},o.a.createElement(F.a,{color:"primary",className:"mr-1"},"".concat(e,'="').concat(t,'"')))),bt=({value:e,name:t})=>{const a=Object(l.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(gt,{event:()=>{i(!r)},showMore:r},o.a.createElement("span",{className:"target-head"},t))),r?o.a.createElement(P.a,{size:"sm",bordered:!0,hover:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Discovered Labels"),o.a.createElement("th",null,"Target Labels"))),o.a.createElement("tbody",null,e.map((t,a)=>o.a.createElement("tr",{key:a},o.a.createElement("td",null,ft(e[a].discoveredLabels)),e[a].isDropped?o.a.createElement("td",{style:{fontWeight:"bold"}},"Dropped"):o.a.createElement("td",null,ft(e[a].labels)))))):null)},xt=({activeTargets:e,droppedTargets:t})=>{const a=((e,t)=>{const a={};var n,r=Object(te.a)(e);try{for(r.s();!(n=r.n()).done;){const e=n.value.scrapePool;a[e]||(a[e]={total:0,active:0}),a[e].total++,a[e].active++}}catch(i){r.e(i)}finally{r.f()}var l,o=Object(te.a)(t);try{for(o.s();!(l=o.n()).done;){const e=l.value.discoveredLabels.job;a[e]||(a[e]={total:0,active:0}),a[e].total++}}catch(i){o.e(i)}finally{o.f()}return a})(e,t),n=((e,t)=>{const a={};var n,r=Object(te.a)(e);try{for(r.s();!(n=r.n()).done;){const e=n.value,t=e.scrapePool;a[t]||(a[t]=[]),a[t].push({discoveredLabels:e.discoveredLabels,labels:e.labels,isDropped:!1})}}catch(i){r.e(i)}finally{r.f()}var l,o=Object(te.a)(t);try{for(o.s();!(l=o.n()).done;){const e=l.value,t=e.discoveredLabels.job;a[t]||(a[t]=[]),a[t].push({discoveredLabels:e.discoveredLabels,isDropped:!0,labels:{}})}}catch(i){o.e(i)}finally{o.f()}return a})(e,t);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Service Discovery"),o.a.createElement("ul",null,qe(a,([e,t])=>o.a.createElement("li",{key:e},o.a.createElement("a",{href:"#"+e},e," (",t.active," / ",t.total," active targets)")))),o.a.createElement("hr",null),qe(n,([e,t])=>o.a.createElement(bt,{value:t,name:e,key:e})))};xt.displayName="ServiceDiscoveryContent";const yt=I(xt);var Et=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/targets")),a=t.response,n=t.error,r=t.isLoading;return o.a.createElement(yt,Object.assign({},a.data,{error:n,isLoading:r,componentTitle:"Service Discovery information"}))};const vt={startTime:{title:"Start time",customizeValue:e=>new Date(e).toUTCString()},CWD:{title:"Working directory"},reloadConfigSuccess:{title:"Configuration reload",customizeValue:e=>e?"Successful":"Unsuccessful"},lastConfigTime:{title:"Last successful configuration reload"},corruptionCount:{title:"WAL corruptions"},goroutineCount:{title:"Goroutines"},storageRetention:{title:"Storage retention"},activeAlertmanagers:{customRow:!0,customizeValue:(e,t)=>o.a.createElement(l.Fragment,{key:t},o.a.createElement("tr",null,o.a.createElement("th",null,"Endpoint")),e.map(({url:e})=>{const t=new URL(e),a=t.origin,n=t.pathname;return o.a.createElement("tr",{key:e},o.a.createElement("td",null,o.a.createElement("a",{href:e},a),n))}))},droppedAlertmanagers:{skip:!0}},kt=({data:e,title:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,t),o.a.createElement(P.a,{className:"h-auto",size:"sm",bordered:!0,striped:!0},o.a.createElement("tbody",null,Object.entries(e).map(([e,t])=>{const a=vt[e]||{},n=a.title,r=void 0===n?e:n,l=a.customizeValue,i=void 0===l?e=>e:l,s=a.customRow;return a.skip?null:s?i(t,e):o.a.createElement("tr",{key:e},o.a.createElement("th",{className:"capitalize-title",style:{width:"35%"}},r),o.a.createElement("td",{className:"text-break"},i(t,r)))})))),wt=I(kt);kt.displayName="Status";var St=()=>{const e=k(),t="".concat(e,"/").concat("api/v1");return o.a.createElement(o.a.Fragment,null,[{fetchResult:N("".concat(t,"/status/runtimeinfo")),title:"Runtime Information"},{fetchResult:N("".concat(t,"/status/buildinfo")),title:"Build Information"},{fetchResult:N("".concat(t,"/alertmanagers")),title:"Alertmanagers"}].map(({fetchResult:e,title:t})=>{const a=e.response,n=e.isLoading,r=e.error;return o.a.createElement(wt,{key:t,data:a.data,title:t,isLoading:n,error:r,componentTitle:t})}))},Tt=a(48),Ct=a.n(Tt);var Mt=({filter:e,setFilter:t})=>{const a=e.showHealthy,n={all:{active:a,className:"all ".concat(Ct.a.btn),color:"primary",onClick:()=>t(Object(M.a)(Object(M.a)({},e),{},{showHealthy:!0}))},unhealthy:{active:!a,className:"unhealthy ".concat(Ct.a.btn),color:"primary",onClick:()=>t(Object(M.a)(Object(M.a)({},e),{},{showHealthy:!1}))}};return o.a.createElement(ne.a,null,o.a.createElement(B.a,n.all,"All"),o.a.createElement(B.a,n.unhealthy,"Unhealthy"))};var Ot=a(22),Nt=a.n(Ot);var _t=({endpoint:e,globalUrl:t})=>{let a;try{a=new URL(e)}catch(u){return o.a.createElement(L.a,{color:"danger"},o.a.createElement("strong",null,"Error:")," ",u.message)}const n=a,r=n.host,l=n.pathname,i=n.protocol,s=n.searchParams,c=Array.from(s.entries());return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:t},"".concat(i,"//").concat(r).concat(l)),c.length>0?o.a.createElement("br",null):null,c.map(([e,t])=>o.a.createElement(F.a,{color:"primary",className:"mr-1",key:"".concat(e,"/").concat(t)},"".concat(e,'="').concat(t,'"'))))},Lt=a(164),jt=(a(137),a(76)),zt=a.n(jt);var It=({discoveredLabels:e,labels:t,idx:a,scrapePool:n})=>{const r=Object(l.useState)(!1),i=Object(c.a)(r,2),s=i[0],u=i[1],m="series-labels-".concat(n,"-").concat(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:m,className:"series-labels-container"},Object.keys(t).map(e=>o.a.createElement(F.a,{color:"primary",className:"mr-1",key:e},"".concat(e,'="').concat(t[e],'"')))),o.a.createElement(Lt.a,{isOpen:s,target:CSS.escape(m),toggle:()=>u(!s),style:{maxWidth:"none",textAlign:"left"}},o.a.createElement("b",null,"Before relabeling:"),(e=>Object.keys(e).map(t=>"".concat(t,'="').concat(e[t],'"')))(e).map((e,t)=>o.a.createElement(l.Fragment,{key:t},o.a.createElement("br",null),o.a.createElement("span",{className:zt.a.discovered},e)))))};const Ft=["Endpoint","State","Labels","Last Scrape","Scrape Duration","Error"];var Pt=({scrapePool:e,targetGroup:t})=>{const a=Ke("targets-".concat(e,"-expanded"),{expanded:!0}),n=Object(c.a)(a,2),r=n[0].expanded,l=n[1],i=t.upCount<t.targets.length?"danger":"normal",s="pool-".concat(e),u={href:"#".concat(s),id:s};return o.a.createElement("div",{className:Nt.a.container},o.a.createElement(gt,{event:()=>l({expanded:!r}),showMore:r},o.a.createElement("a",Object.assign({className:Nt.a[i]},u),"".concat(e," (").concat(t.upCount,"/").concat(t.targets.length," up)"))),o.a.createElement(d.a,{isOpen:r},o.a.createElement(P.a,{className:Nt.a.table,size:"sm",bordered:!0,hover:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",{key:"header"},Ft.map(e=>o.a.createElement("th",{key:e},e)))),o.a.createElement("tbody",null,t.targets.map((e,t)=>{const a=e.discoveredLabels,n=e.labels,r=e.scrapePool,l=e.scrapeUrl,i=e.globalUrl,s=e.lastError,c=e.lastScrape,u=e.lastScrapeDuration,m=e.health,h=(e=>{switch(e.toLowerCase()){case"up":return"success";case"down":return"danger";default:return"warning"}})(m);return o.a.createElement("tr",{key:l},o.a.createElement("td",{className:Nt.a.endpoint},o.a.createElement(_t,{endpoint:l,globalUrl:i})),o.a.createElement("td",{className:Nt.a.state},o.a.createElement(F.a,{color:h},m.toUpperCase())),o.a.createElement("td",{className:Nt.a.labels},o.a.createElement(It,{discoveredLabels:a,labels:n,scrapePool:r,idx:t})),o.a.createElement("td",{className:Nt.a["last-scrape"]},Pe(c,Object(mt.now)())),o.a.createElement("td",{className:Nt.a["scrape-duration"]},Fe(1e3*u)),o.a.createElement("td",{className:Nt.a.errors},s?o.a.createElement(F.a,{color:h},s):null))})))))};const Dt=({filter:e,activeTargets:t})=>{const a=t.reduce((e,t)=>{const a=t.health,n=t.scrapePool,r="up"===a.toLowerCase()?1:0;return e[n]||(e[n]={upCount:0,targets:[]}),e[n].targets.push(t),e[n].upCount+=r,e},{});const n=e.showHealthy,r=e.showUnhealthy;return o.a.createElement(o.a.Fragment,null,Object.keys(a).reduce((e,t)=>{const l=a[t],i=l.upCount===l.targets.length;return i&&n||!i&&r?[...e,o.a.createElement(Pt,{key:t,scrapePool:t,targetGroup:l})]:e},[]))};Dt.displayName="ScrapePoolContent";const Rt=I(Dt);var Wt=({filter:e})=>{const t=k(),a=N("".concat(t,"/").concat("api/v1","/targets?state=active")),n=a.response,r=a.error,l=a.isLoading,i=n.status,s="success"!==i&&"start fetching"!==i;return o.a.createElement(Rt,Object.assign({},n.data,{filter:e,error:s?new Error(i):r,isLoading:l,componentTitle:"Targets information"}))};var At=()=>{const e=k(),t=Ke("targets-page-filter",{showHealthy:!0,showUnhealthy:!0}),a=Object(c.a)(t,2),n=a[0],r={filter:n,setFilter:a[1]},l={filter:n,pathPrefix:e,API_PATH:"api/v1"};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Targets"),o.a.createElement(Mt,r),o.a.createElement(Wt,l))};const Ht=e=>{const t="?".concat(e.map(Ae).join("&"));window.history.pushState({},"",t)},qt=e=>{let t=e.metrics,a=void 0===t?[]:t,n=e.useLocalTime,r=e.queryHistoryEnabled,i=e.enableAutocomplete,s=Object(_.a)(e,["metrics","useLocalTime","queryHistoryEnabled","enableAutocomplete"]);const u=Object(l.useState)(s.panels),m=Object(c.a)(u,2),h=m[0],d=m[1],p=Ke("history",[]),g=Object(c.a)(p,2),f=g[0],b=g[1];Object(l.useEffect)(()=>{!h.length&&y(),window.onpopstate=()=>{const e=Re(window.location.search);e.length>0&&d(e)}},[]);const x=e=>{if(-1!==a.indexOf(e)||!e.length)return;const t=f.reduce((t,a)=>a===e?t:[...t,a],[e]);b(t.slice(0,50))},y=()=>{Be(d,Ht)([...h,{id:Me(),key:"".concat(h.length),options:Se}])},E=k();return o.a.createElement(o.a.Fragment,null,h.map(({id:e,options:t})=>o.a.createElement(Ce,{pathPrefix:E,onExecuteQuery:x,key:e,options:t,onOptionsChanged:t=>Be(d,Ht)(h.map(a=>e===a.id?Object(M.a)(Object(M.a)({},a),{},{options:t}):a)),removePanel:()=>Be(d,Ht)(h.reduce((t,a)=>a.id!==e?[...t,Object(M.a)(Object(M.a)({},a),{},{key:"".concat(t.length)})]:t,[])),useLocalTime:n,metricNames:a,pastQueries:r?f:[],enableAutocomplete:i})),o.a.createElement(B.a,{className:"d-block mb-3",color:"primary",onClick:y},"Add Panel"))};var Bt=()=>{const e=Object(l.useState)(0),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Ke("use-local-time",!1),i=Object(c.a)(r,2),s=i[0],u=i[1],m=Ke("enable-query-history",!1),h=Object(c.a)(m,2),d=h[0],p=h[1],g=Ke("enable-metric-autocomplete",!0),f=Object(c.a)(g,2),b=f[0],x=f[1],y=k(),E=N("".concat(y,"/").concat("api/v1","/label/__name__/values")),v=E.response,w=E.error,S=(new Date).getTime()/1e3,T=N("".concat(y,"/").concat("api/v1","/query?query=time()")),C=T.response,M=T.error;return Object(l.useEffect)(()=>{if(C.data){const e=C.data.result[0];n(Math.abs(S-e))}},[C.data]),o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{wrapperStyles:{marginLeft:3,display:"inline-block"},id:"query-history-checkbox",onChange:({target:e})=>p(e.checked),defaultChecked:d},"Enable query history"),o.a.createElement($e,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"use-local-time-checkbox",onChange:({target:e})=>u(e.checked),defaultChecked:s},"Use local time"),o.a.createElement($e,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"autocomplete",onChange:({target:e})=>x(e.checked),defaultChecked:b},"Enable autocomplete"),(a>30||M)&&o.a.createElement(L.a,{color:"danger"},o.a.createElement("strong",null,"Warning: "),M&&"Unexpected response status when fetching server time: ".concat(M.message),a>=30&&"Error fetching server time: Detected ".concat(a," seconds time difference between your browser and the server. Prometheus relies on accurate time and time drift might cause unexpected query results.")),w&&o.a.createElement(L.a,{color:"danger"},o.a.createElement("strong",null,"Warning: "),"Error fetching metrics list: Unexpected response status when fetching metric names: ",w.message),o.a.createElement(qt,{panels:Re(window.location.search),useLocalTime:s,metrics:v.data,queryHistoryEnabled:d,enableAutocomplete:b}))};const Ut=({headStats:e,labelValueCountByLabelName:t,seriesCountByMetricName:a,memoryInBytesByLabelName:n,seriesCountByLabelValuePair:r})=>{const l=e=>new Date(e).toISOString(),i=e.chunkCount,s=e.numSeries,c=e.numLabelPairs,u=e.minTime,m=e.maxTime,h=[{header:"Number of Series",value:s},{header:"Number of Chunks",value:i},{header:"Number of Label Pairs",value:c},{header:"Current Min Time",value:"".concat(l(u)," (").concat(u,")")},{header:"Current Max Time",value:"".concat(l(m)," (").concat(m,")")}];return o.a.createElement("div",null,o.a.createElement("h2",null,"TSDB Status"),o.a.createElement("h3",{className:"p-2"},"Head Stats"),o.a.createElement("div",{className:"p-2"},o.a.createElement(P.a,{bordered:!0,size:"sm",striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,h.map(({header:e})=>o.a.createElement("th",{key:e},e)))),o.a.createElement("tbody",null,o.a.createElement("tr",null,h.map(({header:e,value:t})=>o.a.createElement("td",{key:e},t)))))),o.a.createElement("h3",{className:"p-2"},"Head Cardinality Stats"),[{title:"Top 10 label names with value count",stats:t},{title:"Top 10 series count by metric names",stats:a},{title:"Top 10 label names with high memory usage",unit:"Bytes",stats:n},{title:"Top 10 series count by label value pairs",stats:r}].map(({title:e,unit:t="Count",stats:a})=>o.a.createElement("div",{className:"p-2",key:e},o.a.createElement("h3",null,e),o.a.createElement(P.a,{bordered:!0,size:"sm",striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,t))),o.a.createElement("tbody",null,a.map(({name:e,value:t})=>o.a.createElement("tr",{key:e},o.a.createElement("td",null,e),o.a.createElement("td",null,t))))))))};Ut.displayName="TSDBStatusContent";const Vt=I(Ut);var Yt=()=>{const e=k(),t=N("".concat(e,"/").concat("api/v1","/status/tsdb")),a=t.response,n=t.error,r=t.isLoading;return o.a.createElement(Vt,Object.assign({error:n,isLoading:r},a.data,{componentTitle:"TSDB Status information"}))};var Gt=({consolesLink:e})=>{let t=window.location.pathname;const a=["/graph","/alerts","/status","/tsdb-status","/flags","/config","/rules","/targets","/service-discovery"];if(t.endsWith("/")&&(t=t.slice(0,-1)),t.length>1)for(let n=0;n<a.length;n++)if(t.endsWith(a[n])){t=t.slice(0,t.length-a[n].length);break}return o.a.createElement(v.Provider,{value:t},o.a.createElement(w,{consolesLink:e}),o.a.createElement(S.a,{fluid:!0,style:{paddingTop:70}},o.a.createElement(u.c,{basepath:"".concat(t)},o.a.createElement(u.b,{from:"/",to:"graph",noThrow:!0}),o.a.createElement(Bt,{path:"/graph"}),o.a.createElement(tt,{path:"/alerts"}),o.a.createElement(it,{path:"/config"}),o.a.createElement(ut,{path:"/flags"}),o.a.createElement(pt,{path:"/rules"}),o.a.createElement(Et,{path:"/service-discovery"}),o.a.createElement(St,{path:"/status"}),o.a.createElement(Yt,{path:"/tsdb-status"}),o.a.createElement(At,{path:"/targets"}))))};a(138);let Qt=GLOBAL_CONSOLES_LINK;"CONSOLES_LINK_PLACEHOLDER"!==GLOBAL_CONSOLES_LINK&&""!==GLOBAL_CONSOLES_LINK&&Ne(GLOBAL_CONSOLES_LINK)||(Qt=null),s.a.render(o.a.createElement(Gt,{consolesLink:Qt}),document.getElementById("root"))},22:function(e,t,a){e.exports={container:"ScrapePoolPanel_container__2macm",title:"ScrapePoolPanel_title__1ppGj",normal:"ScrapePoolPanel_normal__1AuiN ScrapePoolPanel_title__1ppGj",danger:"ScrapePoolPanel_danger__ZoHk6 ScrapePoolPanel_title__1ppGj",table:"ScrapePoolPanel_table__1Sdr1",cell:"ScrapePoolPanel_cell__3LVb_",endpoint:"ScrapePoolPanel_endpoint__1N4gx ScrapePoolPanel_cell__3LVb_",labels:"ScrapePoolPanel_labels__1VVxb ScrapePoolPanel_cell__3LVb_",state:"ScrapePoolPanel_state__2BqDx ScrapePoolPanel_cell__3LVb_","last-scrape":"ScrapePoolPanel_last-scrape__192VK ScrapePoolPanel_cell__3LVb_",errors:"ScrapePoolPanel_errors__2JBvY ScrapePoolPanel_cell__3LVb_"}},48:function(e,t,a){e.exports={btn:"Filter_btn__1yhdg"}},76:function(e,t,a){e.exports={discovered:"TargetLabels_discovered__2eSl4"}},80:function(e,t,a){e.exports=a(139)}},[[80,1,2]]]);
//# sourceMappingURL=main.6901d1c6.chunk.js.map